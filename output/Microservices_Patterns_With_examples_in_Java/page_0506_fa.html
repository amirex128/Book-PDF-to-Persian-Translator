<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 506</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h2><strong>CHAPTER 13</strong></h2>
  <h3><strong>Refactoring to microservices</strong></h3>
  <p>
   index
   <br/>
   business logic (continued)
   <br/>
   generating 164–165
   <br/>
   identifying 162–163
   <br/>
   publishing 166–167
   <br/>
   reasons to publish 160–161
   <br/>
   domain model design 152–160
   <br/>
   aggregates 154–160
   <br/>
   problem with fuzzy boundaries 153–154
   <br/>
   event sourcing 184–202
   <br/>
   benefits of 199–200
   <br/>
   drawbacks of 200–202
   <br/>
   event publishing 194–195
   <br/>
   evolving domain events 198–199
   <br/>
   handling concurrent updates using optimis-
   tic locking 193–194
   <br/>
   idempotent message processing 197
   <br/>
   overview of 186–193
   <br/>
   snapshots, improving performance with
   195–196
   <br/>
   traditional persistence 185–186
   <br/>
   event store implementation 202–209
   <br/>
   Eventuate client framework for Java 205–209
   <br/>
   Eventuate Local event store 203–205
   <br/>
   Kitchen Service business logic 168–173
   <br/>
   Order Service business logic 173–182
   <br/>
   Order aggregate 175–180
   <br/>
   OrderService class 180–182
   <br/>
   organization patterns 147–152
   <br/>
   Domain model pattern 150–151
   <br/>
   domain-driven design 151–152
   <br/>
   Transaction script pattern 149–150
   <br/>
   sagas and event sourcing together 209–218
   <br/>
   creating orchestration-based saga 211–212
   <br/>
   implementing choreography-based sagas
   using event sourcing 210
   <br/>
   implementing event sourcing-based saga
   participant 213–216
   <br/>
   implementing saga orchestrators using event
   sourcing 216–218
   <br/>
   Business logic design patterns
   <br/>
   Aggregate 147, 152–160
   <br/>
   Domain event 160
   <br/>
   Domain model 150–151
   <br/>
   Event sourcing 184
   <br/>
   Transaction script 149–150
   <br/>
   business logic layer 38, 436
   <br/>
   by value countermeasure 131–132
  </p>
  <p>
   C
   <br/>
   caching 262, 288
   <br/>
   cancel() operation 177
   <br/>
   cancelOrder() method 460
   <br/>
   CAP theorem 113
   <br/>
   CCP (Common Closure Principle) 56
   <br/>
   centralized sessions 354
   <br/>
   change failure rate 31
   <br/>
   choreography 111
   <br/>
   choreography-based sagas 118–121
   <br/>
   benefits and drawbacks of 121
   <br/>
   implementing Create Order saga 118–119
   <br/>
   implementing using event sourcing 210
   <br/>
   reliable event-based communication 120–121
   <br/>
   CI (Continuous Integration) 6, 306, 357
   <br/>
   Circuit breaker pattern 77–80
   <br/>
   developing robust RPI proxies 79
   <br/>
   recovering from unavailable services 79–80
   <br/>
   Client concept 358
   <br/>
   Client-side discovery pattern 82–83
   <br/>
   command message 86
   <br/>
   Command query responsibility segregation. See
   <br/>
   CQRS pattern
   <br/>
   command/reply-based messaging 102–103
   <br/>
   commands 41
   <br/>
   commit tests stage 306
   <br/>
   committed records 130
   <br/>
   Common Closure Principle (CCP) 56–57
   <br/>
   communication
   <br/>
   flexible 93
   <br/>
   secure interprocess 350
   <br/>
   communication patterns 23–25
   <br/>
   commutative update countermeasure 130
   <br/>
   compensatable transactions 116, 128, 450
   <br/>
   compensating transaction 450
   <br/>
   compile-time tests 297
   <br/>
   component tests 306, 339–340
   <br/>
   for FTGO Order Service
   <br/>
   OrderServiceComponentTestStepDefinitions
   <br/>
   class 341–344
   <br/>
   running 344–345
   <br/>
   writing 340–345
   <br/>
   in-process component tests 339
   <br/>
   out-of-process component tests 339–340
   <br/>
   condition expression 248
   <br/>
   Conduit 381
   <br/>
   ConfigMap 402
   <br/>
   configurable services 360–364
   <br/>
   pull-based externalized configuration 363–364
   <br/>
   push-based externalized configuration 362–363
   <br/>
   @ConfigurationProperties class 276
   <br/>
   consumer contract testing 301–303
   <br/>
   for asynchronous request/response
   <br/>
   interaction 332–335
   <br/>
   for messaging APIs 305
   <br/>
   for publish/subscribe-style interactions
   <br/>
   328–330
   <br/>
   for REST-based request/response style
   <br/>
   interactions 324–326
   <br/>
   consumer group 94
   <br/>
   consumer-driven contract test 28, 302
  </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>