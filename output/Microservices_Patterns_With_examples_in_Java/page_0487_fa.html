<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 487</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h2><strong>CHAPTER 13</strong></h2>
  <h3><strong>Refactoring to microservices</strong></h3>
  <p>
   بیایید به طراحی integration glue نگاهی بیندازیم که به Delayed Order Service دسترسی می‌دهد
   به data monolith.
  </p>
  <h3><strong>13.4.2 Designing the integration glue for Delayed Delivery Service</strong></h3>
  <p>
   حتی اگر یک service که یک feature جدید را پیاده‌سازی می‌کند، classesهای entity خود را تعریف کند، این
   معمولاً به data که متعلق به monolith است، دسترسی دارد. Delayed Delivery Service نیز اینطور است
   استثنایی ندارد. این یک entity DelayedOrderNotification دارد، که نشان‌دهنده یک notification است
   که به consumer ارسال کرده است. اما همانطور که اشاره کردم، entityهای Order و Restaurant آن، data را از FTGO monolith تکرار می‌کنند. این
   همچنین نیاز دارد که اطلاعات تماس user را برای اطلاع دادن به user، query کند. در نتیجه، ما نیاز داریم
   integration glue را پیاده‌سازی کنیم که Delivery Service را قادر می‌سازد تا به data monolith دسترسی داشته باشد.
  </p>
  <p>
   شکل 13.15، طراحی integration glue را نشان می‌دهد. FTGO monolith،
   domain eventsهای Order و Restaurant را منتشر می‌کند. Delivery Service این eventsها را مصرف می‌کند
   و replicasهای آن entitiesها را آپدیت می‌کند. FTGO monolith، یک REST
  </p>
  <p>
   Monolith
   <br/>
   ???
   <br/>
   API gateway
   <br/>
   REST
   <br/>
   API
   <br/>
   Integration
   <br/>
   glue
   <br/>
   Delayed
   <br/>
   Order
   <br/>
   Service
   <br/>
   GetDelayedOrders()
   <br/>
   REST
   <br/>
   API
   <br/>
   Notiﬁcation
   <br/>
   Service
   <br/>
   CRM system
   <br/>
   Create case.
   <br/>
   Send apology
   <br/>
   notiﬁcation.
   <br/>
   Need to design.
   <br/>
   ???
   <br/>
   «Service»
   <br/>
   DelayedDelivery
   <br/>
   Service
   <br/>
   «stereotype»
   <br/>
   Order
   <br/>
   «entity»
   <br/>
   Notiﬁcation
   <br/>
   «entity»
   <br/>
   Restaurant
   <br/>
   «repository»
   <br/>
   Customer
   <br/>
   ContactInfo
   <br/>
   Repository
   <br/>
   «entity»
   <br/>
   OpeningHours
  </p>
  <p>
   <strong>Figure 13.14</strong>
   <br/>
   The design of Delayed Delivery Service. The integration glue provides Delayed Delivery
   Service access to data owned by the monolith, such as the Order and Restaurant entities, and the customer
   contact information.
  </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>