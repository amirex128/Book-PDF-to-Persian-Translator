<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 367</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h3>Testing microservices:</h3>
  <p>
   <strong>Part 2</strong>
  </p>
  <p>
   The consumer-side test، همانند REST client است.
  </p>
  <p>
   ..
  </p>
  <p>
   The provider-side tests are code-generated by Spring Cloud Contract. Each test
   method sends the contract’s input
   message and verifies that the reply message matches the contract’s output mes-
   sage. Let’s look at the details, starting with the contract.
  </p>
  <p>
   ...
  </p>
  <p>
   <strong>10.2.2 Writing acceptance tests using Gherkin</strong>
  </p>
  <p>
   نوشتن acceptance tests ها در جاوا چالش‌برانگیز است. این خطر وجود دارد که سناریوها و تست های جاوا متفاوت باشند. همچنین یک disconnect بین سناریوهای high-level و تست های جاوا وجود دارد، که شامل جزئیات implementation low-level می‌شوند. همچنین، این خطر وجود دارد که یک سناریو فاقد دقت یا مبهم باشد و نتواند به کد جاوا ترجمه شود.
  </p>
  <p>
   یک رویکرد بسیار بهتر این است که مرحله ترجمه manual را حذف کنید و سناریوهای قابل اجرا بنویسید.
  </p>
  <p>
   Gherkin یک DSL برای نوشتن مشخصات قابل اجرا است. هنگام استفاده از Gherkin، شما acceptance tests های خود را با استفاده از سناریوهای شبیه به انگلیسی، مانند نمونه‌ای که قبلاً نشان داده شد، تعریف می‌کنید. سپس مشخصات را با استفاده از Cucumber، یک فریم‌ورک test automation برای Gherkin، اجرا می‌کنید. Gherkin و Cucumber نیاز به ترجمه دستی سناریوها به کد قابل اجرا را از بین می‌برند.
  </p>
  <p>
   مشخصات Gherkin برای یک service مانند Order Service، از مجموعه‌ای از features تشکیل شده است. هر feature، توسط مجموعه‌ای از سناریوها مانند موردی که قبلاً مشاهده کردید، توضیح داده می‌شود. A sce-
   nario has the given-when-then structure. The givens are the preconditions, the when is
   the action or event that occurs, and the then/and are the expected outcome.
  </p>
  <p>
   به عنوان مثال، رفتار مورد نظر Order Service توسط چندین feature، از جمله Place Order، Cancel Order و Revise Order تعریف می‌شود. Listing 10.11، یک excerpt از feature Place Order است. این feature از چندین عنصر تشکیل شده است:
  </p>
  <ul>
   <li>
    Name—برای این feature، نام Place Order است.
   </li>
   <li>
    Specification brief—این، توضیح می‌دهد که چرا feature وجود دارد. برای این feature، specification brief، user story است.
   </li>
   <li>
    Scenarios—Order authorized و Order rejected due to expired credit card.
   </li>
  </ul>
  <pre><code class="language-java">Feature: Place Order
As a consumer of the Order Service
I should be able to place an order
Scenario: Order authorized
Given a valid consumer
Given using a valid credit card
Given the restaurant is accepting orders
When I place an order for Chicken Vindaloo at Ajanta
Then the order should be APPROVED
And an OrderAuthorized event should be published
Scenario: Order rejected due to expired credit card
Given a valid consumer
Given using an expired credit card
Given the restaurant is accepting orders
When I place an order for Chicken Vindaloo at Ajanta
Then the order should be REJECTED
And an OrderRejected event should be published
...</code></pre>
  <p>
   <strong>Listing 10.11</strong>
   The Gherkin definition of the Place Order feature and some of its scenarios
  </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>