<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 453</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h4>تقسیم داده‌ها (ادامه)</h4>

  <p>تقسیم‌بندی در سطح پایگاه داده اغلب منطقی است اگر فناوری پایگاه داده‌ای که استفاده می‌کنید، بومی از این مفهوم پشتیبانی کند، زیرا در این صورت می‌توانید این مشکل را به یک پیاده‌سازی موجود واگذار کنید. با این حال، ما می‌توانیم به جای آن در سطح نمونه <strong>microservice</strong> پارتیشن‌بندی کنیم، همانطور که در شکل 13-5 می‌بینیم. در اینجا، ما باید بتوانیم از درخواست ورودی بفهمیم که درخواست باید به کدام پارتیشن نگاشت شود—در مثال ما، این کار از طریق نوعی <strong>proxy</strong> انجام می‌شود. در مورد مدل پارتیشن‌بندی مبتنی بر مشتری ما، اگر نام مشتری در <strong>headers</strong> درخواست باشد، این کافی خواهد بود. این رویکرد منطقی است اگر می‌خواهید نمونه‌های <strong>microservice</strong> اختصاصی برای پارتیشن‌بندی داشته باشید، که اگر از <strong>in-memory caching</strong> استفاده می‌کنید، می‌تواند مفید باشد. همچنین به این معنی است که شما می‌توانید هر پارتیشن را در سطح پایگاه داده و سطح نمونه <strong>microservice</strong> مقیاس‌بندی کنید.</p>

  <p>شکل 13-5. درخواست‌ها به نمونه <strong>microservice</strong> مناسب هدایت می‌شوند</p>

  <p>همانطور که در مثال <strong>read replicas</strong>، ما می‌خواهیم این مقیاس‌بندی به گونه‌ای انجام شود که مصرف‌کنندگان <strong>microservice</strong> از این جزئیات پیاده‌سازی بی‌اطلاع باشند. هنگامی که یک مصرف‌کننده درخواستی را به <strong>microservice</strong> مشتری در شکل 13-5 ارسال می‌کند، ما می‌خواهیم درخواست آنها به طور پویا به پارتیشن صحیح هدایت شود. این واقعیت که ما تقسیم داده‌ها را پیاده‌سازی کرده‌ایم باید به عنوان یک جزئیات پیاده‌سازی داخلی <strong>microservice</strong> مورد نظر در نظر گرفته شود—این به ما آزادی می‌دهد تا طرح پارتیشن‌بندی را تغییر دهیم، یا شاید پارتیشن‌بندی را به طور کلی جایگزین کنیم.</p>

  <p>چهار محور مقیاس‌پذیری | 427</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0453/image_1.png" alt="Image from page 453" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>