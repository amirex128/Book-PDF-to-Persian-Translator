<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 471</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h4><strong>Invalidation</strong> (ادامه)</h4>

  <p>رویداد تغییر موجودی، به Recommendation (یا هر مشترک دیگری در این رویداد) اطلاع می‌دهد که سطح موجودی برای یک مورد معین افزایش یا کاهش یافته است.</p>

  <p>شکل 13-14. موجودی، رویدادهای تغییر موجودی را <strong>fires</strong> می‌کند، که Recommendation می‌تواند از آنها برای به‌روزرسانی <strong>cache</strong> محلی خود استفاده کند</p>

  <p>مزیت اصلی این مکانیسم این است که پنجره احتمالی را که در آن <strong>cache</strong> در حال ارائه داده‌های قدیمی است، کاهش می‌دهد. پنجره‌ای که در آن <strong>cache</strong> ممکن است در حال حاضر داده‌های قدیمی را ارائه دهد، به زمان لازم برای ارسال و پردازش اعلان محدود می‌شود. بسته به مکانیزمی که برای ارسال اعلان استفاده می‌کنید، این می‌تواند بسیار سریع باشد.</p>

  <p>منفی اینجا پیچیدگی پیاده‌سازی است. ما نیاز داریم که مبدأ بتواند اعلان‌ها را منتشر کند، و ما نیاز داریم که طرف‌های ذینفع بتوانند به این اعلان‌ها پاسخ دهند. اکنون، این یک مکان طبیعی برای استفاده از چیزی مانند یک <strong>message broker</strong> است، زیرا این مدل به طرز ماهرانه‌ای در تعاملات معمولی <strong>pub/sub-style</strong> که بسیاری از <strong>brokers</strong> ارائه می‌کنند، قرار می‌گیرد. ضمانت‌های اضافی که <strong>broker</strong> ممکن است بتواند به ما بدهد نیز می‌تواند مفید باشد. با این حال، همانطور که قبلاً در "<strong>Message Brokers</strong>" در صفحه 135 بحث کردیم، یک سربار برای مدیریت <strong>middleware</strong> پیام‌رسانی وجود دارد، و اگر فقط برای این منظور از آن استفاده می‌کردید، ممکن است زیاد باشد. با این حال، اگر از <strong>brokers</strong> برای سایر اشکال ارتباط بین <strong>microservice</strong> استفاده می‌کردید، استفاده از فناوری که قبلاً در اختیار داشتید منطقی بود.</p>

  <p>یک مشکل که باید هنگام استفاده از <strong>invalidation</strong> مبتنی بر اعلان از آن آگاه باشید این است که ممکن است بخواهید بدانید که آیا مکانیسم اعلان واقعاً کار می‌کند یا خیر. موقعیتی را در نظر بگیرید که ما مدتی است هیچ رویداد <strong>Stock Changed</strong> از موجودی دریافت نکرده‌ایم. آیا این بدان معناست که ما در آن مدت هیچ اقلامی را نفروخته‌ایم یا اقلامی را دوباره موجود نکرده‌ایم؟ شاید. همچنین می‌تواند به این معنی باشد که مکانیسم اعلان ما از کار افتاده است و دیگر به‌روزرسانی‌ها برای ما ارسال نمی‌شود. اگر این یک نگرانی است، پس ما می‌توانیم یک رویداد <strong>heartbeat</strong> را از طریق همان مکانیسم اعلان ارسال کنیم—Recommendation، در مورد ما—به مشترکین اطلاع دهیم که هنوز اعلان‌هایی در حال آمدن است، اما هیچ</p>

  <p><strong>Caching</strong> | 445</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0471/image_1.png" alt="Image from page 471" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>