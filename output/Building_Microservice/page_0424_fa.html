<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 424</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>در مورد <em>AdvertCorp</em>، ما دو مسئله مرتبط با <em>time-out</em> (مهلت زمانی) داشتیم. اولاً، ما یک <em>time-out</em> (مهلت زمانی) از دست رفته در استخر <em>HTTP request</em> (درخواست <em>HTTP</em>) داشتیم، به این معنی که هنگام درخواست از یک کارگر برای ایجاد یک <em>HTTP request</em> (درخواست <em>HTTP</em>) پایین‌دستی، <em>request thread</em> (رشته درخواست) برای همیشه مسدود می‌شد تا زمانی که یک کارگر در دسترس قرار گیرد. ثانیاً، هنگامی که ما در نهایت یک کارگر <em>HTTP</em> در دسترس برای برقراری یک <em>request</em> (درخواست) به سیستم تبلیغات شلغم داشتیم، ما مدت زیادی صبر می‌کردیم قبل از اینکه از تماس دست بکشیم. بنابراین همانطور که شکل 12-3 نشان می‌دهد، ما باید یک <em>time-out</em> (مهلت زمانی) جدید اضافه کنیم و یک مورد موجود را تغییر دهیم.</p>
    <p>شکل 12-3. تغییر <em>time-outs</em> (مهلت زمانی) در سیستم <em>AdvertCorp</em></p>
    <p><em>Time-outs</em> (مهلت زمانی) برای <em>HTTP requests</em> (درخواست‌های HTTP) پایین‌دستی، 30 ثانیه تنظیم شده بود—بنابراین ما 30 ثانیه منتظر پاسخ از سیستم شلغم می‌ماندیم قبل از اینکه تسلیم شویم. مسئله این است که در زمینه وسیع‌تری که این تماس در حال انجام بود، انتظار این مدت طولانی، منطقی نبود. تبلیغات مربوط به شلغم در نتیجه یکی از کاربران ما که با استفاده از یک مرورگر به وب‌سایت ما نگاه می‌کرد، درخواست می‌شد. حتی در زمانی که این اتفاق افتاد، هیچ‌کس 30 ثانیه منتظر بارگذاری یک صفحه نشد. به آنچه اتفاق می‌افتد فکر کنید اگر یک صفحه وب بعد از 5، 10 یا شاید 15 ثانیه بارگیری نشود. چه کار می‌کنید؟ شما صفحه را <em>refresh</em> (بازخوانی) می‌کنید. بنابراین ما 30 ثانیه منتظر ماندیم تا سیستم تبلیغات شلغم پاسخ دهد، اما خیلی قبل از آن <em>request</em> (درخواست) اصلی دیگر معتبر نبود زیرا کاربر به‌تازگی آن را <em>refresh</em> (بازخوانی) کرده بود، که باعث شد یک <em>request</em> (درخواست) ورودی اضافی ایجاد شود. این به نوبه خود باعث شد <em>request</em> (درخواست) دیگری برای سیستم تبلیغات وارد شود، و به همین ترتیب ادامه یافت.</p>
    <p>هنگام نگاه کردن به رفتار عادی سیستم تبلیغات شلغم، ما می‌توانستیم ببینیم که ما معمولاً انتظار پاسخ را در کمتر از یک ثانیه داشتیم، بنابراین انتظار 30 ثانیه زیاده‌روی بود. علاوه بر این، ما یک هدف داشتیم که یک صفحه را در عرض 4–6 ثانیه به کاربر ارائه کنیم. بر اساس این، ما <em>time-out</em> (مهلت زمانی) را بسیار تهاجمی‌تر کردیم و آن را به 1 ثانیه تنظیم کردیم. ما همچنین یک <em>time-out</em> (مهلت زمانی) 1 ثانیه‌ای را برای انتظار یک کارگر <em>HTTP</em> قرار دادیم تا</p>
    <p><em>398 | Chapter 12: Resiliency</em></p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0424/image_1.png" alt="Image from page 424" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>