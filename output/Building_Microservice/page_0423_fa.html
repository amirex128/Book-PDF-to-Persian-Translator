<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 423</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>شکل 12-2. شرحی از مسائل ایجاد شده که باعث قطعی شدند</p>
    <p>بدتر اینکه، <em>service</em> (سرویس) پایین‌دستی که ما با آن صحبت می‌کردیم، عملکردی را نشان می‌داد که کمتر از 5٪ از پایگاه مشتریان ما استفاده می‌کردند، و حتی درآمد کمتری نسبت به آن ایجاد می‌کرد. وقتی به این موضوع می‌رسید، ما به روش سخت فهمیدیم که سیستم‌هایی که فقط کند عمل می‌کنند، مدیریت آنها بسیار سخت‌تر از سیستم‌هایی است که فقط سریع شکست می‌خورند. در یک سیستم توزیع‌شده، تأخیر کشنده است.</p>
    <p>حتی اگر ما <em>time-outs</em> (مهلت زمانی) را در استخر به‌درستی تنظیم کرده بودیم، ما همچنین یک <em>HTTP connection pool</em> (استخر اتصال <em>HTTP</em>) واحد را برای همه <em>outbound requests</em> (درخواست‌های خروجی) به اشتراک گذاشته بودیم. این به این معنی بود که یک <em>service</em> (سرویس) کند پایین‌دستی می‌توانست به تنهایی تعداد کارگران موجود را تمام کند، حتی اگر بقیه موارد سالم بودند. در نهایت، به دلیل <em>time-outs</em> (مهلت زمانی) و خطاهای مکرر، مشخص بود که <em>service</em> (سرویس) پایین‌دستی مورد نظر سالم نیست، اما با وجود این، ما همچنان ترافیک را به سمت آن ارسال می‌کردیم. در شرایط ما، این به این معنی بود که ما در واقع داشتیم یک وضعیت بد را بدتر می‌کردیم، زیرا <em>service</em> (سرویس) پایین‌دستی هیچ شانسی برای بازیابی نداشت. ما در نهایت سه اصلاحیه را برای جلوگیری از این اتفاق دوباره، اجرا کردیم: درست کردن <em>time-outs</em> (مهلت زمانی) ما، پیاده‌سازی <em>bulkheads</em> (دیواره‌ها) برای جدا کردن استخرهای اتصال مختلف، و پیاده‌سازی یک <em>circuit breaker</em> (مدار شکن) برای جلوگیری از ارسال تماس‌ها به یک سیستم ناسالم در وهله اول.</p>
    <h5>Time-Outs (مهلت زمانی)</h5>
    <p><em>Time-outs</em> (مهلت زمانی) آسان هستند که نادیده گرفته شوند، اما در یک سیستم توزیع‌شده، درست انجام دادن آنها مهم است. قبل از اینکه من باید از یک فراخوانی به یک <em>service</em> (سرویس) پایین‌دستی دست بکشم، چقدر می‌توانم صبر کنم؟ اگر شما خیلی طولانی صبر کنید تا تصمیم بگیرید که یک تماس شکست خورده است، شما می‌توانید کل سیستم را کند کنید. خیلی سریع <em>time out</em> (منقضی) کنید، و شما یک تماس را که ممکن است کار کرده باشد، به عنوان ناموفق در نظر خواهید گرفت. اگر اصلاً <em>time-outs</em> (مهلت زمانی) نداشته باشید، و یک <em>service</em> (سرویس) پایین‌دستی از کار افتاده باشد، می‌تواند کل سیستم شما را متوقف کند.</p>
    <p><em>Stability Patterns | 397</em></p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0423/image_1.png" alt="Image from page 423" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>