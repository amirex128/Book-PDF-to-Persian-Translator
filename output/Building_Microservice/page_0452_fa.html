<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 452</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h4>تکثیر افقی (ادامه)</h4>

  <p><strong>load balancer</strong> که به <strong>sticky session load balancing</strong> نیاز دارد، اما این می‌تواند محدود کند که چه مکانیسم‌های توزیع باری را می‌توانید در نظر بگیرید. شایان ذکر است که سیستم‌هایی که به <strong>sticky load balancing</strong> مانند این نیاز دارند، مستعد مشکلات دیگری هستند، و به طور کلی، از ساختن سیستم‌هایی که این نیاز را دارند، خودداری می‌کنم.</p>

  <h4>تقسیم داده‌ها</h4>

  <p>با شروع با اشکال ساده‌تر مقیاس‌پذیری، اکنون وارد قلمرو دشوارتری می‌شویم. تقسیم داده‌ها مستلزم آن است که ما بار را بر اساس جنبه‌ای از داده‌ها توزیع کنیم—برای مثال، توزیع بار بر اساس کاربر.</p>

  <h4>پیاده‌سازی</h4>

  <p>نحوه عملکرد تقسیم داده‌ها این است که ما یک <strong>key</strong> مرتبط با حجم کار را می‌گیریم و یک تابع را به آن اعمال می‌کنیم، و نتیجه، پارتیشن (گاهی اوقات <strong>shard</strong> نامیده می‌شود) است که کار را به آن توزیع خواهیم کرد. در شکل 13-4، ما دو پارتیشن داریم، و تابع ما کاملاً ساده است—اگر نام خانوادگی با A تا M شروع شود، درخواست را به یک پایگاه داده و اگر نام خانوادگی با N تا Z شروع شود، به پایگاه داده دیگری ارسال می‌کنیم. حال، این در واقع یک مثال بد از یک الگوریتم پارتیشن‌بندی است (به زودی به چرایی این موضوع خواهیم پرداخت)، اما امیدوارم این به اندازه کافی ساده باشد تا ایده را نشان دهد.</p>

  <p>شکل 13-4. داده‌های مشتری در دو پایگاه داده مختلف تقسیم شده است</p>

  <p>در این مثال، ما در سطح پایگاه داده پارتیشن‌بندی می‌کنیم. یک درخواست به <strong>microservice</strong> مشتری می‌تواند به هر نمونه <strong>microservice</strong> برخورد کند. اما هنگامی که ما عملیاتی را انجام می‌دهیم که به پایگاه داده نیاز دارد (خواندن یا نوشتن)، آن درخواست بر اساس نام مشتری به <strong>node</strong> پایگاه داده مناسب هدایت می‌شود. در مورد یک پایگاه داده رابطه‌ای، <strong>schema</strong> هر دو <strong>node</strong> پایگاه داده یکسان خواهد بود، اما محتویات هر کدام فقط برای زیرمجموعه‌ای از مشتریان اعمال می‌شود.</p>

  <p>426 | فصل 13: مقیاس‌پذیری</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0452/image_1.png" alt="Image from page 452" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>