<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 333</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <figure>
        <img src="https://www.plantuml.com/plantuml/png/VP11QiCm38JpUeT9uJ5H9x8S6U0Oq_f0000" alt="A single microservice instance on a single host">
        <figcaption>شکل 10-1. یک نمونه <strong>microservice</strong> واحد روی یک میزبان واحد</figcaption>
    </figure>
    <p>
        ابتدا، ما می‌خواهیم اطلاعاتی را از خود میزبان دریافت کنیم. <strong>CPU</strong>، حافظه—همه این موارد می‌توانند مفید باشند. در مرحله بعد، ما می‌خواهیم به <strong>logs</strong> از خود نمونه <strong>microservice</strong> دسترسی داشته باشیم. اگر یک کاربر خطایی را گزارش دهد، ما باید بتوانیم خطا را در این <strong>logs</strong> مشاهده کنیم، که امیدواریم راهی برای فهمیدن اینکه چه اشتباهی رخ داده است به ما بدهد. در این مرحله، با یک میزبان واحد خود، احتمالاً می‌توانیم با <strong>logging</strong> محلی به میزبان و استفاده از ابزارهای خط فرمان برای نگاه کردن به <strong>log</strong>، کارمان را پیش ببریم.
    </p>
    <p>
        در نهایت، ما ممکن است بخواهیم خود برنامه را نظارت کنیم—مشاهده آن از بیرون. حداقل، نظارت بر زمان پاسخگویی <strong>microservice</strong> یک ایده خوب است. اگر شما یک <strong>web server</strong> در جلوی نمونه <strong>microservice</strong> خود دارید، شاید بتوانید فقط به <strong>logs</strong> <strong>web server</strong> نگاه کنید. یا شاید شما بتوانید کمی پیشرفته‌تر شوید، با استفاده از چیزی مانند یک <strong>health check endpoint</strong> برای دیدن اینکه آیا <strong>microservice</strong> فعال و "سالم" است (ما بعداً به این معنی خواهیم پرداخت).
    </p>
    <p>
        زمان می‌گذرد، <strong>loads</strong> افزایش می‌یابد، و ما متوجه می‌شویم که نیاز به مقیاس داریم…
    </p>
    <h4>Single Microservice, Multiple Servers</h4>
    <p>
        اکنون ما چندین نسخه از <strong>service</strong> را که روی میزبان‌های جداگانه اجرا می‌شوند، داریم، همانطور که در شکل 10-2 نشان داده شده است، با درخواست‌هایی به نمونه‌های مختلف که از طریق یک <strong>load balancer</strong> توزیع می‌شوند.
    </p>
    <p>
        اکنون اوضاع کمی پیچیده‌تر می‌شود. ما همچنان می‌خواهیم همه چیز را همانطور که قبلاً بود، نظارت کنیم، اما ما باید این کار را به گونه‌ای انجام دهیم که بتوانیم مشکل را ایزوله کنیم. وقتی <strong>CPU</strong> بالا است، آیا این مشکلی است که ما در همه میزبان‌ها می‌بینیم، که به یک مشکل در خود <strong>service</strong> اشاره دارد؟ یا آیا این به یک میزبان واحد محدود می‌شود، که حاکی از آن است که خود میزبان مشکل دارد—شاید یک فرآیند <strong>OS</strong> متقلب؟
    </p>
    <p>
        در این مرحله، ما همچنان می‌خواهیم <strong>metrics</strong> سطح میزبان را ردیابی کنیم، و شاید حتی در هنگام عبور از نوعی آستانه، به آنها هشدار دهیم. اما اکنون ما می‌خواهیم آنچه را که در سراسر تمام میزبان‌ها هستند، و همچنین میزبان‌های جداگانه را ببینیم. به عبارت دیگر، ما می‌خواهیم آنها را جمع‌آوری کنیم و همچنان بتوانیم به آنها دسترسی داشته باشیم. بنابراین ما به چیزی نیاز داریم که بتواند همه این <strong>metrics</strong> را از سراسر میزبان‌ها جمع‌آوری کند و به ما اجازه دهد تا آنها را برش و تقسیم کنیم.
    </p>
    <p>
        Single Microservice, Multiple Servers | 307
    </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0333/image_1.png" alt="Image from page 333" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>