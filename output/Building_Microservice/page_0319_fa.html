<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 319</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <p>
        <strong>services</strong>—تست‌های قرارداد شما باید هنگام اجرای <strong>stubs</strong> خودتان، همانطور که باید برای <strong>service</strong> خارجی واقعی، با موفقیت انجام شوند.
    </p>
    <p>
        تست‌های قرارداد، زمانی که به عنوان بخشی از قراردادهای <strong>consumer-driven (CDCs)</strong> استفاده می‌شوند، بسیار مفید می‌شوند. تست‌های قرارداد در واقع یک نمایش صریح و برنامه‌نویسی از نحوه انتظار <strong>microservice</strong> مصرف‌کننده (<strong>upstream</strong>) از <strong>microservice</strong> تولیدکننده (<strong>downstream</strong>) برای رفتار است. با <strong>CDCs</strong>، تیم مصرف‌کننده اطمینان حاصل می‌کند که این تست‌های قرارداد با تیم تولیدکننده به اشتراک گذاشته می‌شوند تا به تیم تولیدکننده اجازه دهند اطمینان حاصل کند که <strong>microservice</strong> آن، این انتظارات را برآورده می‌کند. معمولاً، این کار با این انجام می‌شود که تیم تولیدکننده <strong>downstream</strong>، قراردادهای مصرف‌کننده را برای هر <strong>microservice</strong> مصرف‌کننده به عنوان بخشی از <strong>test suite</strong> خود اجرا کند که در هر <strong>build</strong> اجرا می‌شود. از منظر بازخورد تست، این تست‌ها باید فقط در برابر یک تولیدکننده واحد و ایزوله اجرا شوند، بنابراین می‌توانند سریع‌تر و قابل اطمینان‌تر از تست‌های <strong>end-to-end</strong> باشند که ممکن است جایگزین شوند.
    </p>
    <p>
        به عنوان مثال، بیایید سناریوی خود را از قبل مرور کنیم. <strong>Customer microservice</strong> دو مصرف‌کننده مجزا دارد: <strong>helpdesk</strong> و <strong>web shop</strong>. هر دوی این برنامه‌های مصرف‌کننده انتظاراتی در مورد نحوه رفتار <strong>Customer microservice</strong> دارند. در این مثال، شما مجموعه‌ای از تست‌ها را برای هر مصرف‌کننده ایجاد می‌کنید: یکی که نشان‌دهنده انتظارات <strong>helpdesk</strong> از <strong>Customer microservice</strong> است، و مجموعه دیگری که نشان‌دهنده انتظارات <strong>web shop</strong> است.
    </p>
    <p>
        از آنجایی که این <strong>CDCs</strong>، انتظاراتی در مورد نحوه رفتار <strong>Customer microservice</strong> هستند، ما فقط باید خود <strong>Customer microservice</strong> را اجرا کنیم، به این معنی که ما همان <strong>scope</strong> تست را به عنوان تست‌های <strong>service</strong> خود داریم. آنها ویژگی‌های عملکردی مشابهی خواهند داشت و مستلزم این است که ما فقط خود <strong>Customer microservice</strong> را با <strong>stubbed</strong> کردن هرگونه وابستگی خارجی اجرا کنیم.
    </p>
    <p>
        یک روش خوب در اینجا این است که کسی از تیم‌های تولیدکننده و مصرف‌کننده در ایجاد تست‌ها همکاری کند، بنابراین شاید افرادی از تیم‌های <strong>web shop</strong> و <strong>helpdesk</strong> با افرادی از تیم خدمات مشتری جفت شوند. می‌توان گفت که قراردادهای <strong>consumer-driven</strong> به همان اندازه مربوط به تقویت خطوط ارتباطی شفاف و همکاری، در صورت نیاز، بین <strong>microservices</strong> و تیم‌هایی است که آنها را مصرف می‌کنند. در واقع، می‌توان استدلال کرد که پیاده‌سازی <strong>CDCs</strong> فقط آشکارتر کردن ارتباط بین تیم‌هایی است که از قبل باید وجود داشته باشند. در همکاری بین تیمی، <strong>CDCs</strong> یک یادآوری صریح از قانون <strong>Conway</strong> است.
    </p>
    <p>
        <strong>CDCs</strong> در همان سطح تست <strong>pyramid</strong> قرار دارند، مانند تست‌های <strong>service</strong>، اگرچه با تمرکز بسیار متفاوت، همانطور که در شکل 9-10 نشان داده شده است. این تست‌ها بر نحوه استفاده یک مصرف‌کننده از <strong>service</strong> متمرکز هستند و اگر شکست بخورند، محرک بسیار متفاوتی در مقایسه با تست‌های <strong>service</strong> دارد. اگر یکی از این <strong>CDCs</strong> در طول یک <strong>build</strong> از <strong>service Customer</strong> شکست بخورد، مشخص می‌شود که کدام مصرف‌کننده تحت تأثیر قرار خواهد گرفت. در این مرحله، می‌توانید مشکل را برطرف کنید یا بحث را در مورد معرفی یک تغییر شکستنی به روشی که در "مدیریت تغییر بین <strong>Microservices</strong>" در صفحه 144 بحث کردیم، شروع کنید.
    </p>
    <p>
        Should You Avoid End-to-End Tests? | 293
    </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>