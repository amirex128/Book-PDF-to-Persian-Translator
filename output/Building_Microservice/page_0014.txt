Spreading Your Risk                                                                                                   407
CAP Theorem                                                                                                              408
Sacrificing Consistency                                                                                           410
Sacrificing Availability                                                                                            410
Sacrificing Partition Tolerance?                                                                             411
AP or CP?                                                                                                                  411
Itâ€™s Not All or Nothing                                                                                            412
And the Real World                                                                                                 412
Chaos Engineering                                                                                                      413
Game Days                                                                                                                414
Production Experiments                                                                                         415
From Robustness to Beyond                                                                                   415
Blame                                                                                                                             415
Summary                                                                                                                       417
13. Scaling. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  419
The Four Axes of Scaling                                                                                            419
Vertical Scaling                                                                                                         420
Horizontal Duplication                                                                                           422
Data Partitioning                                                                                                      426
Functional Decomposition                                                                                     430
Combining Models                                                                                                      432
Start Small                                                                                                                     433
Caching                                                                                                                         435
For Performance                                                                                                      436
For Scale                                                                                                                    436
For Robustness                                                                                                         436
Where to Cache                                                                                                        437
Invalidation                                                                                                               442
The Golden Rule of Caching                                                                                  447
Freshness Versus Optimization                                                                             448
Cache Poisoning: A Cautionary Tale                                                                    448
Autoscaling                                                                                                                   449
Starting Again                                                                                                              450
Summary                                                                                                                       451
xii 
| 
Table of Contents
