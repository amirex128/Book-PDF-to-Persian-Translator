<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 438</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>می‌دانید کار درست را انجام دهید. دانستن در مورد قضیه <em>CAP</em> به شما کمک می‌کند که درک کنید که این <em>trade-off</em> (مبادله) وجود دارد و چه سوالاتی را باید بپرسید.</p>
    <h5>It’s Not All or Nothing (همه‌چیز یا هیچ‌چیز نیست)</h5>
    <p>لازم نیست سیستم ما به‌طور کلی <em>AP</em> (در دسترس و تحمل‌کننده پارتیشن) یا <em>CP</em> (منسجم و تحمل‌کننده پارتیشن) باشد. فهرست <em>MusicCorp</em> (موزیک‌کورپ) ما می‌تواند <em>AP</em> (در دسترس و تحمل‌کننده پارتیشن) باشد، زیرا ما خیلی نگران یک رکورد منسوخ شده نیستیم. اما ما ممکن است تصمیم بگیریم که <em>inventory service</em> (سرویس انبار) ما نیاز دارد که <em>CP</em> (منسجم و تحمل‌کننده پارتیشن) باشد، زیرا ما نمی‌خواهیم چیزی را به یک مشتری بفروشیم که نداریم و بعداً مجبور به عذرخواهی شویم.</p>
    <p>اما حتی <em>services</em> (سرویس‌های) جداگانه نیز نیازی نیست که <em>CP</em> (منسجم و تحمل‌کننده پارتیشن) یا <em>AP</em> (در دسترس و تحمل‌کننده پارتیشن) باشند.</p>
    <p>بیایید به <em>Points Balance microservice</em> (ریز سرویس موجودی امتیاز) خود فکر کنیم، که در آن ما رکوردهایی از تعداد امتیازات وفاداری که مشتریان ما جمع‌آوری کرده‌اند، ذخیره می‌کنیم. ما می‌توانیم تصمیم بگیریم که ما اهمیتی نمی‌دهیم که موجودی که برای یک مشتری نشان می‌دهیم، منسوخ شده است، اما وقتی نوبت به به‌روزرسانی یک موجودی می‌رسد، ما به این نیاز داریم که منسجم باشد تا اطمینان حاصل شود که مشتریان بیش از آنچه در دسترس دارند، استفاده نمی‌کنند. آیا این <em>microservice</em> (ریز سرویس) <em>CP</em> (منسجم و تحمل‌کننده پارتیشن) است، یا <em>AP</em> (در دسترس و تحمل‌کننده پارتیشن)، یا هر دو؟ در واقع، کاری که ما انجام داده‌ایم این است که <em>trade-offs</em> (تبعات) پیرامون قضیه <em>CAP</em> را به قابلیت‌های <em>microservice</em> (ریز سرویس) فردی منتقل می‌کنیم.</p>
    <p>یک پیچیدگی دیگر این است که نه <em>consistency</em> (انسجام) و نه <em>availability</em> (در دسترس بودن) همه یا هیچ‌چیز نیستند.
    بسیاری از سیستم‌ها به ما یک <em>trade-off</em> (مبادله) بسیار ظریف‌تری را می‌دهند. به عنوان مثال، با <em>Cassandra</em> من می‌توانم <em>trade-offs</em> (تبعات) متفاوتی را برای فراخوانی‌های فردی انجام دهم. بنابراین اگر من نیاز به <em>consistency</em> (انسجام) دقیق داشته باشم، من می‌توانم یک خواندن را انجام دهم که مسدود می‌شود تا زمانی که همه <em>replicas</em> (تکثیرها) پاسخ دهند، تأیید اینکه مقدار منسجم است، یا تا زمانی که یک <em>quorum</em> (حد نصاب) خاص از <em>replicas</em> (تکثیرها) پاسخ دهند، یا حتی فقط یک گره واحد. بدیهی است، اگر من منتظر پاسخگویی همه <em>replicas</em> (تکثیرها) باشم و یکی از آنها در دسترس نباشد، من برای مدت طولانی مسدود خواهم بود. از طرف دیگر، اگر من می‌خواستم که خواندن من تا حد امکان سریع پاسخ دهد، من ممکن است منتظر بمانم تا فقط از یک گره واحد پاسخ بشنوم—که در این صورت این امکان وجود دارد که این یک دیدگاه ناسازگار از داده‌های من باشد.</p>
    <p>شما اغلب پست‌هایی را در مورد افرادی که قضیه <em>CAP</em> را "شکست می‌دهند" می‌بینید. آنها این کار را نکرده‌اند. آنچه آنها انجام داده‌اند، ایجاد سیستمی است که در آن برخی از قابلیت‌ها <em>CP</em> هستند، و برخی <em>AP</em>. اثبات ریاضی پشت قضیه <em>CAP</em> معتبر است.</p>
    <h5>And the Real World (و دنیای واقعی)</h5>
    <p>بخش زیادی از آنچه ما در مورد آن صحبت کردیم، دنیای الکترونیکی بود—بیت‌ها و بایت‌های ذخیره شده در حافظه. ما در مورد <em>consistency</em> (انسجام) به شیوه‌ای تقریباً کودکانه صحبت می‌کنیم؛ ما تصور می‌کنیم که در محدوده سیستمی که ایجاد کرده‌ایم، می‌توانیم جهان را متوقف کنیم و همه چیز را منطقی کنیم. و با این حال، بخش زیادی از آنچه ما می‌سازیم، فقط بازتابی از دنیای واقعی است، و ما نمی‌توانیم آن را کنترل کنیم، می‌توانیم؟</p>
    <p>بیایید به سیستم انبار خودمان برگردیم. این به موارد فیزیکی دنیای واقعی نگاشت می‌شود. ما در سیستم خود یک شمارش از اینکه چند آلبوم در انبارهای <em>MusicCorp</em> (موزیک‌کورپ) داریم، نگه می‌داریم. در ابتدای روز ما 100 نسخه از <em>Give Blood</em> اثر <em>the Brakes</em> داشتیم. ما یکی را فروختیم. حالا ما 99 نسخه داریم. آسان است، درست است؟ اما اگر هنگام ارسال سفارش چه اتفاقی می‌افتد،</p>
    <p><em>CAP Theorem | 411</em></p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>