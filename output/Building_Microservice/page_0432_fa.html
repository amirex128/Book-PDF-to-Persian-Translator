<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 432</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>توسط متخصصان با تمرکز عمیق بر این نوع مسائل. انجام کار توسط افراد باهوش، اغلب یک ایده خوب است.</p>
    <p>اکنون، در مورد مثال خاص ما با <em>AdvertCorp</em>، استفاده از <em>middleware</em> (میان‌افزار) برای مدیریت ارتباط <em>request-response</em> (درخواست-پاسخ) با سیستم شلغم پایین‌دستی، ممکن است در واقع خیلی کمک نکرده باشد. ما همچنان پاسخ‌هایی را به مشتریان خود دریافت نمی‌کردیم. تنها مزیت بالقوه این است که ما <em>resource contention</em> (رقابت بر سر منابع) را در سیستم خود کاهش می‌دهیم، اما این فقط به افزایش تعداد <em>pending requests</em> (درخواست‌های معلق) که در <em>broker</em> (کارگزار) نگهداری می‌شوند، تغییر می‌کند. بدتر از آن، بسیاری از این <em>requests</em> (درخواست‌ها) که خواستار آخرین قیمت‌های شلغم هستند، ممکن است به <em>user requests</em> (درخواست‌های کاربر) مربوط شوند که دیگر معتبر نیستند.</p>
    <p>یک جایگزین می‌تواند این باشد که تعامل را برعکس کنیم و از <em>middleware</em> (میان‌افزار) استفاده کنیم تا سیستم شلغم آخرین تبلیغات شلغم را پخش کند، و سپس ما می‌توانیم آنها را مصرف کنیم.
    اما اگر سیستم شلغم پایین‌دستی مشکلی داشت، ما همچنان نمی‌توانستیم به مشتری که به دنبال بهترین قیمت‌های شلغم بود، کمک کنیم.</p>
    <p>بنابراین استفاده از <em>middleware</em> (میان‌افزار) مانند <em>message brokers</em> (کارگزاران پیام) برای کمک به کاهش برخی از نگرانی‌های <em>robustness</em> (استحکام) می‌تواند مفید باشد، اما نه در هر موقعیتی.</p>
    <h5>Idempotency (هم‌ارز بودن)</h5>
    <p>در عملیات <em>idempotent</em> (هم‌ارز)، نتیجه پس از اولین <em>application</em> (برنامه) تغییر نمی‌کند، حتی اگر عملیات متعاقباً چندین بار اعمال شود. اگر عملیات <em>idempotent</em> (هم‌ارز) باشد، ما می‌توانیم <em>call</em> (فراخوانی) را چندین بار بدون تأثیر نامطلوب، تکرار کنیم. این بسیار مفید است زمانی که ما می‌خواهیم پیام‌هایی را که از پردازش آنها اطمینان نداریم، دوباره پخش کنیم، یک راه رایج برای بازیابی از خطا.</p>
    <p>بیایید یک فراخوانی ساده برای افزودن مقداری امتیاز در نتیجه ثبت سفارش توسط یکی از مشتریان خود را در نظر بگیریم. ما ممکن است با <em>payload</em> (بار)ی از نوع نشان داده شده در مثال 12-1 فراخوانی کنیم.</p>
    <p>مثال 12-1. اعتبارسنجی امتیاز به یک حساب</p>
    <p>&lt;credit&gt;
    &lt;amount&gt;100&lt;/amount&gt;
    &lt;forAccount&gt;1234&lt;/account&gt;
    &lt;/credit&gt;</p>
    <p>اگر این <em>call</em> (فراخوانی) چندین بار دریافت شود، ما چندین بار 100 امتیاز اضافه می‌کنیم. بنابراین، همانطور که هست، این <em>call</em> (فراخوانی) <em>idempotent</em> (هم‌ارز) نیست. با این حال، با کمی اطلاعات بیشتر، ما به بانک امتیاز اجازه می‌دهیم که این <em>call</em> (فراخوانی) را <em>idempotent</em> (هم‌ارز) کند، همانطور که در مثال 12-2 نشان داده شده است.</p>
    <p><em>406 | Chapter 12: Resiliency</em></p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>