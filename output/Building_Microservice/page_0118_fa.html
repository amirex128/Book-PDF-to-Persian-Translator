<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 118</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <ul>
   <li>شکست <strong>Omission</strong></li>
  </ul>
  <p>
   شما چیزی ارسال کردید، اما پاسخی دریافت نکردید. همچنین شامل موقعیت‌هایی می‌شود که در آنها انتظار دارید یک microservice پایین‌دست پیام‌هایی را منتشر کند (شاید شامل رویدادها باشد)، و به سادگی متوقف می‌شود.
  </p>
  <ul>
   <li>شکست Timing</li>
  </ul>
  <p>
   چیزی خیلی دیر اتفاق افتاد (شما آن را به موقع دریافت نکردید)، یا چیزی خیلی زود اتفاق افتاد!
  </p>
  <ul>
   <li>شکست Response</li>
  </ul>
  <p>
   شما یک پاسخ دریافت کردید، اما به نظر می‌رسد که اشتباه است. به عنوان مثال، شما درخواست خلاصه سفارش را کردید، اما قطعات اطلاعات مورد نیاز در پاسخ وجود ندارد.
  </p>
  <ul>
   <li>شکست Arbitrary</li>
  </ul>
  <p>
   در غیر این صورت به عنوان <strong>Byzantine failure</strong> شناخته می‌شود، این زمانی است که مشکلی پیش آمده است، اما شرکت‌کنندگان نمی‌توانند توافق کنند که آیا شکست رخ داده است (یا چرا). همانطور که به نظر می‌رسد، این یک زمان بد در همه زمینه‌ها است.
  </p>
  <p>
   بسیاری از این خطاها اغلب ماهیت گذرا دارند—آنها مشکلات کوتاه‌مدتی هستند که ممکن است از بین بروند. وضعیتی را در نظر بگیرید که در آن ما درخواستی را به یک microservice ارسال می‌کنیم اما پاسخی دریافت نمی‌کنیم (نوعی شکست <strong>omission</strong>). این می‌تواند به این معنی باشد که microservice پایین‌دست در وهله اول درخواست را دریافت نکرده است، بنابراین ما باید دوباره آن را ارسال کنیم. مشکلات دیگر را نمی‌توان به راحتی برطرف کرد و ممکن است نیاز به مداخله یک <strong>human operator</strong> داشته باشند. در نتیجه، داشتن مجموعه‌ای غنی‌تر از معناشناسی برای بازگرداندن خطاها به گونه‌ای که به مشتریان اجازه می‌دهد اقدام مناسبی را انجام دهند، می‌تواند مهم شود.
  </p>
  <p>
   <strong>HTTP</strong> نمونه‌ای از <strong>protocol</strong> است که اهمیت این موضوع را درک می‌کند. هر پاسخ <strong>HTTP</strong> دارای یک کد است، که کدهای سری 400 و 500 برای خطاها رزرو شده‌اند. کدهای خطای سری 400 خطاهای درخواست هستند—اساساً، یک <strong>service</strong> پایین‌دست به کلاینت می‌گوید که در درخواست اصلی مشکلی وجود دارد. به این ترتیب، احتمالاً چیزی است که باید از آن صرفنظر کنید—آیا مثلاً تلاشی مجدد برای <strong>404 Not Found</strong> وجود دارد؟ کدهای پاسخ سری 500 مربوط به مسائل پایین‌دست هستند، که زیرمجموعه‌ای از آنها به کلاینت نشان می‌دهد که این مشکل ممکن است موقتی باشد. به عنوان مثال، <strong>503 Service Unavailable</strong> نشان می‌دهد که سرور پایین‌دست قادر به رسیدگی به درخواست نیست، اما ممکن است یک حالت موقت باشد، که در این صورت یک کلاینت بالادست ممکن است تصمیم بگیرد که درخواست را دوباره امتحان کند. از سوی دیگر، اگر یک کلاینت پاسخ <strong>501 Not Imple-mented</strong> را دریافت کند، احتمال کمی وجود دارد که تلاش مجدد کمک زیادی کند.
  </p>
  <p>
   صرف نظر از اینکه شما یک <strong>protocol</strong> مبتنی بر <strong>HTTP</strong> را برای ارتباط بین microservices انتخاب می‌کنید یا خیر، اگر مجموعه‌ای غنی از معناشناسی را در مورد ماهیت خطا داشته باشید، این کار را برای مشتریان آسان‌تر می‌کند تا اقدامات جبرانی را انجام دهند، که به نوبه خود باید به شما در ساخت سیستم‌های مستحکم‌تر کمک کند.
  </p>
  <p>92 | Chapter 4: Microservice Communication Styles</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>