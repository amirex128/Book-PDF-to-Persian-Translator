<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 130</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>
   در لیست الزامات شما. اگر شما علاقه‌مند به ارسال حجم زیادی از داده‌ها هستید و می‌خواهید آنها را بیشتر در "زمان واقعی" پردازش کنید، در این صورت استفاده از نوعی فناوری <strong>streaming</strong> مانند <strong>Kafka</strong> مناسب‌تر است.
  </p>
  <p>
   یکی دیگر از معایب بزرگ، و چیزی که اگر به یاد داشته باشید به بررسی <em>common coupling</em> در شکل 4-7 برمی‌گردد، این است که <strong>data store</strong> مشترک، به یک منبع بالقوه <em>coupling</em> تبدیل می‌شود. اگر <strong>data store</strong> ساختار خود را به نحوی تغییر دهد، می‌تواند ارتباط بین microservicesها را مختل کند.
  </p>
  <p>
   استحکام ارتباط نیز به استحکام <strong>data store</strong> زیربنایی بستگی خواهد داشت. این از نظر محدودیت، یک نقطه ضعف نیست، اما چیزی است که باید از آن آگاه بود. اگر فایلی را در یک <strong>filesystem</strong> قرار می‌دهید، ممکن است بخواهید مطمئن شوید که خود <strong>filesystem</strong> به روش‌های جالب شکست نخواهد خورد.
  </p>
  <h4>کجا از آن استفاده کنیم</h4>
  <p>
   جایی که این الگو واقعاً می‌درخشد، در فعال کردن قابلیت همکاری بین فرآیندهایی است که ممکن است محدودیت‌هایی در مورد فناوری که می‌توانند استفاده کنند داشته باشند. داشتن یک سیستم موجود برای صحبت با <strong>interface GRPC</strong> microservice شما یا اشتراک در موضوع <strong>Kafka</strong> آن ممکن است از دیدگاه microservice مناسب‌تر باشد، اما از دیدگاه یک <strong>consumer</strong> مناسب نیست. سیستم‌های قدیمی‌تر ممکن است محدودیت‌هایی در مورد فناوری که می‌توانند پشتیبانی کنند داشته باشند و ممکن است هزینه‌های تغییر بالایی داشته باشند. از سوی دیگر، حتی سیستم‌های قدیمی <strong>mainframe</strong> نیز باید بتوانند داده‌ها را از یک فایل بخوانند. البته این همه به استفاده از فناوری <strong>data store</strong> که به طور گسترده پشتیبانی می‌شود بستگی دارد—من همچنین می‌توانم این الگو را با استفاده از چیزی مانند یک کش <strong>Redis</strong> پیاده‌سازی کنم. اما آیا سیستم قدیمی <strong>mainframe</strong> شما می‌تواند با <strong>Redis</strong> صحبت کند؟
  </p>
  <p>
   یکی دیگر از نقاط شیرین اصلی برای این الگو، به اشتراک گذاشتن حجم زیادی از داده‌ها است. اگر شما نیاز به ارسال یک فایل چند گیگابایتی به یک <strong>filesystem</strong> یا بارگذاری چند میلیون ردیف در یک پایگاه داده دارید، این الگو راهی است که باید بروید.
  </p>
  <h4>الگو: Request-Response Communication</h4>
  <p>
   با <strong>request-response</strong>، یک microservice درخواستی را به یک <strong>service</strong> پایین‌دست ارسال می‌کند و از آن می‌خواهد کاری را انجام دهد و انتظار دارد که پاسخی با نتیجه درخواست دریافت کند. این تعامل می‌تواند از طریق یک فراخوانی <strong>synchronous blocking</strong> انجام شود، یا می‌توان آن را به روشی ناهمزمان <strong>nonblocking</strong> پیاده‌سازی کرد. یک مثال ساده از این تعامل در شکل 4-8 نشان داده شده است، جایی که microservice <strong>Chart</strong>، که پرفروش‌ترین سی‌دی‌ها را برای ژانرهای مختلف جمع‌آوری می‌کند، درخواستی را به <strong>Inventory service</strong> ارسال می‌کند و سطح موجودی فعلی را برای برخی از سی‌دی‌ها درخواست می‌کند.
  </p>
  <p>
   شکل 4-8. <strong>Chart</strong>، یک درخواست همزمان را به microservice <strong>Inventory</strong> ارسال می‌کند.
  </p>
  <p>104 | Chapter 4: Microservice Communication Styles</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>