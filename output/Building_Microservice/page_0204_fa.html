<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 204</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>شکل 6-2. تغییرات ایجاد شده توسط <em>Customer</em> و <em>Enrollments microservices</em> اکنون در محدوده دو <em>transactions</em> مختلف انجام می‌شود</p>
  <p>البته، ما می‌توانیم تصمیم بگیریم که این دو <em>transactions</em> را <em>sequence</em> کنیم، و یک ردیف را از جدول <em>PendingEnrollments</em> حذف کنیم، فقط اگر بتوانیم ردیف را در جدول <em>Customer</em> تغییر دهیم. اما ما همچنان باید در مورد کاری که باید انجام دهیم اگر حذف از جدول <em>PendingEnrollments</em> شکست خورد، فکر کنیم—تمام منطقی که ما باید خودمان پیاده‌سازی کنیم. با این حال، توانایی تغییر ترتیب مراحل برای مدیریت بهتر این موارد استفاده می‌تواند یک ایده واقعاً مفید باشد (موردی که ما به آن بازخواهیم گشت وقتی <em>sagas</em> را بررسی می‌کنیم). اما اساساً، ما باید بپذیریم که با تجزیه این عملیات به دو <em>database transactions</em> جداگانه، <em>atomicity</em> تضمین شده عملیات را به طور کلی از دست داده‌ایم.</p>
  <p>این کمبود <em>atomicity</em> می‌تواند شروع به ایجاد مشکلات قابل توجهی کند، به خصوص اگر ما در حال انتقال سیستم‌هایی باشیم که قبلاً به این ویژگی متکی بودند. به طور معمول، اولین گزینه‌ای که مردم شروع به در نظر گرفتن آن می‌کنند، همچنان استفاده از یک <em>single transaction</em> است، اما این بار شامل چندین <em>processes</em> می‌شود—یک <em>distributed transaction</em>. متأسفانه، همانطور که خواهیم دید، <em>distributed transactions</em> ممکن است راه درستی نباشند. بیایید به یکی از رایج‌ترین الگوریتم‌ها برای پیاده‌سازی <em>distributed transactions</em>، <em>two-phase commit</em>، به عنوان راهی برای بررسی چالش‌های مرتبط با <em>distributed transactions</em> به طور کلی، نگاهی بیندازیم.</p>
 </div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0204/image_1.png" alt="Image from page 204" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>