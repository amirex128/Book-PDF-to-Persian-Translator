<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 79</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>
   ترجمه کنیم. در نتیجه، تحلیل‌گران <strong>business</strong> ما اغلب وقت خود را صرف توضیح مکرر مفاهیم مشابه می‌کردند.
  </p>
  <p>
   با وارد کردن زبان دنیای واقعی به کد، همه چیز بسیار آسان‌تر شد. یک توسعه‌دهنده با در دست گرفتن داستانی که با استفاده از اصطلاحاتی که مستقیماً از مالک محصول آمده بود نوشته شده بود، به احتمال زیاد منظور آن را درک می‌کند و متوجه می‌شود که چه کاری باید انجام شود.
  </p>
  <h4>Aggregate</h4>
  <p>
   در <strong>DDD</strong>، یک <strong>aggregate</strong> یک مفهوم تا حدودی گیج‌کننده است، با تعاریف مختلفی که وجود دارد. آیا این فقط یک مجموعه دلخواه از <strong>objects</strong> است؟ کوچکترین واحدی که باید از یک پایگاه داده خارج شود؟ مدلی که همیشه برای من کار کرده است این است که ابتدا یک <strong>aggregate</strong> را به عنوان نشان‌دهنده یک مفهوم <strong>domain</strong> واقعی در نظر بگیرید—به چیزی مانند یک <strong>Order</strong>، یک <strong>Invoice</strong>، یک <strong>Stock Item</strong> و غیره فکر کنید. <strong>Aggregates</strong> معمولاً یک چرخه عمر در اطراف خود دارند، که آنها را به سمت پیاده‌سازی به عنوان یک <strong>state machine</strong> باز می‌کند.
  </p>
  <p>
   به عنوان مثال در <strong>MusicCorp domain</strong>، یک <strong>Order aggregate</strong> ممکن است شامل چندین <strong>line items</strong> باشد که نشان‌دهنده آیتم‌های موجود در سفارش هستند. آن <strong>line items</strong> فقط به عنوان بخشی از کل <strong>Order aggregate</strong> معنا دارند.
  </p>
  <p>
   ما می‌خواهیم <strong>aggregates</strong> را به عنوان واحدهای خودمحور در نظر بگیریم. ما می‌خواهیم اطمینان حاصل کنیم که کدی که گذارهای <strong>state</strong> یک <strong>aggregate</strong> را مدیریت می‌کند، همراه با خود <strong>state</strong>، با هم گروه‌بندی شده‌اند. بنابراین یک <strong>aggregate</strong> باید توسط یک microservice مدیریت شود، اگرچه یک microservice واحد ممکن است مدیریت چندین <strong>aggregate</strong> را بر عهده داشته باشد.
  </p>
  <p>
   به طور کلی، شما باید به یک <strong>aggregate</strong> به عنوان چیزی فکر کنید که دارای <strong>state</strong>، <strong>identity</strong>، یک چرخه عمر است که به عنوان بخشی از سیستم مدیریت می‌شود. <strong>Aggregates</strong> معمولاً به مفاهیم دنیای واقعی اشاره دارند.
  </p>
  <p>
   یک microservice واحد، چرخه عمر و ذخیره‌سازی داده‌های یک یا چند نوع مختلف <strong>aggregates</strong> را مدیریت می‌کند. اگر <strong>functionality</strong> در <strong>service</strong> دیگری بخواهد یکی از این <strong>aggregates</strong> را تغییر دهد، باید یا مستقیماً درخواست تغییر در آن <strong>aggregate</strong> را بدهد یا این‌که خود <strong>aggregate</strong> به چیزهای دیگر در سیستم واکنش نشان دهد تا گذارهای <strong>state</strong> خود را آغاز کند، شاید با اشتراک در <strong>events</strong> صادر شده توسط microservices دیگر.
  </p>
  <p>
   نکته کلیدی که باید در اینجا درک کنید این است که اگر یک طرف خارجی درخواست <strong>state transition</strong> را در یک <strong>aggregate</strong> بدهد، <strong>aggregate</strong> می‌تواند نه بگوید. شما در حالت ایده‌آل می‌خواهید <strong>aggregates</strong> خود را به گونه‌ای پیاده‌سازی کنید که گذارهای <strong>state</strong> غیرقانونی غیرممکن باشد.
  </p>
  <p>
   <strong>Aggregates</strong> می‌توانند با <strong>aggregates</strong> دیگر ارتباط داشته باشند. در شکل 2-12، ما یک <strong>Customer aggregate</strong> داریم که با یک یا چند <strong>Orders</strong> و یک یا چند <strong>Wishlists</strong> مرتبط است. این <strong>aggregates</strong> می‌توانند توسط همان microservice یا microservicesهای مختلف مدیریت شوند.
  </p>
  <p>Just Enough Domain-Driven Design | 53</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>