<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 43</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>
   وابستگی‌ها، و آن‌ها باید به هر پایگاه داده‌ای (در صورت وجود) دسترسی خواندن و نوشتن داشته باشند.
  </p>
  <p>
   همانند staging، dashboardها، نظارت و logging باید برای canariesها و production یکسان باشند. هشدارها و logs
   باید متمایز و برچسب‌گذاری شوند که از استقرار canary آمده‌اند تا توسعه‌دهندگان بتوانند به راحتی مشکلات را کاهش
   دهند، اشکال‌زدایی کنند و حل کنند.
  </p>
  <h3>پورت‌های جداگانه برای Canaries و Production</h3>
  <p>
   اختصاص پورت‌های frontend و backend جداگانه برای canaries و production به طوری که ترافیک بتواند
   عمدتاً هدایت شود، ممکن است ایده خوبی به نظر برسد، اما متأسفانه جدا کردن ترافیک به این شکل، هدف canaries را
   از بین می‌برد: نمونه‌برداری تصادفی از ترافیک production در یک pool کوچک از سرورها برای تست یک release
   جدید.
  </p>
  <p>
   Rollbacks خودکار، مطلقاً برای canaries لازم است: اگر هر خطای شناخته‌شده‌ای رخ دهد، سیستم استقرار باید به طور
   خودکار به آخرین نسخه پایدار شناخته‌شده بازگردد. به یاد داشته باشید، canaries در حال ارائه ترافیک production
   هستند، و هر مشکلی که رخ می‌دهد، بر دنیای واقعی تأثیر می‌گذارد.
  </p>
  <p>
   یک release جدید باید چه مدت در pool canary باقی بماند تا توسعه‌دهندگان بتوانند از آماده بودن آن برای production
   مطمئن شوند؟ این می‌تواند دقیقه، ساعت یا حتی روزها باشد، و پاسخ با الگوهای ترافیکی microservice تعیین می‌شود.
   ترافیک هر microservice، صرف نظر از اینکه microservice یا کسب و کار شما چقدر عجیب باشد، نوعی الگو را
   خواهد داشت. یک release جدید نباید مرحله canary استقرار را ترک کند تا زمانی که یک چرخه ترافیکی کامل تکمیل شده
   باشد. نحوه تعریف "چرخه ترافیکی" باید در سراسر کل سازمان مهندسی استاندارد شود، اما مدت زمان و الزامات چرخه
   ترافیکی ممکن است نیاز به ایجاد بر اساس یک سرویس به سرویس داشته باشد.
  </p>
  <h3>Production</h3>
  <p>Production دنیای واقعی است. هنگامی که یک build با موفقیت از چرخه توسعه عبور کرد، از staging جان سالم به
   در برد و در معادن زغال سنگ فاز canary زندگی کرد، آماده است که به استقرار production راه‌اندازی شود. در این
   مرحله از pipeline استقرار—آخرین گام—تیم توسعه باید کاملاً به build جدید اطمینان داشته باشد. هرگونه خطا در
   کد باید قبل از رسیدن به این مرحله، کشف، کاهش و حل شده باشد.
  </p>
  <p>
   هر build که به production می‌رسد باید کاملاً پایدار و قابل اعتماد باشد. یک build که در حال استقرار در production
   است، باید از قبل کاملاً تست شده باشد، و یک build هرگز نباید به production مستقر شود تا زمانی که مراحل staging
   و canary را بدون هیچ مشکلی پشت سر گذاشته باشد. استقرار در production را می‌توان پس از اینکه build از canaries
   عبور کرد، در یک ضرب‌المثل انجام داد، یا می‌توان آن را به تدریج
  </p>
  <p>The Deployment Pipeline | 35</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0043/image_1.png" alt="Image from page 43" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>