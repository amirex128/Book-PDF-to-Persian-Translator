<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 341</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>همچنین the system’s random device، to be infrastructure code. موارد 4 و 5 با کشف ما مطابقت دارند که کدی که به state سراسری یا statically accessible service و configuration locators متکی است، نباید core code در نظر گرفته شود. برای اجرا به setup خاصی نیاز دارد. بنابراین من فکر می‌کنم منطقی است که تعریف Feathers را تعمیم دهیم و بگوییم که:</p>
    <p>یک test، یک unit test نیست اگر infrastructure code را فراخوانی کند.</p>
    <p>این مطمئناً برای بسیاری از تست‌هایی که توسعه‌دهندگان "unit tests" می‌نامند، درست نیست. سردرگمی از این واقعیت ناشی می‌شود که unit tests و non-unit tests هر دو می‌توانند توسط PHPUnit اجرا شوند. test framework دارای "unit" در نام خود است، بنابراین تمام تست‌هایی که این framework اجرا می‌کند، معمولاً "unit tests" نامیده می‌شوند. اما خود test framework نمی‌تواند تضمین کند که تست‌هایی که شما می‌نویسید و اجرا می‌کنید، unit tests واقعی هستند. بنابراین یک بار دیگر، این مسئولیت شما خواهد بود که فقط core code را در یک unit test فراخوانی کنید. ممکن است کمک کند تا unit tests واقعی را "isolated tests" بنامیم و تست‌هایی را که infrastructure code را فراخوانی می‌کنند، به یک test suite متفاوت به نام "integration tests" منتقل کنیم (همچنین به بخش 14.2 مراجعه کنید).</p>
    <p>در پروژه‌های من، من معمولاً فقط isolated tests را برای برخی از building blocks های کوچکتر مانند entities و value objects می‌نویسم. این domain objects کاندیداهای عالی برای isolated tests هستند زیرا آن‌ها باید از انواع domain invariants محافظت کنند، که همه شایسته تست جداگانه هستند. مناسب است که این invariantsها را نزدیک به object که از آن‌ها محافظت می‌کند، تست کنید، به جای تست‌های high-level. من برای objects که changes را در domain objects، مانند application services, event subscribers و repositories هماهنگ می‌کنند، unit tests نمی‌نویسم.
        این‌ها با Use case tests (بخش 14.5) و Adapter tests (بخش 14.2) تست می‌شوند.
    </p>
    <p>Listing 14.1 چندین نمونه از unit tests برای entity Order را نشان می‌دهد. من سعی می‌کنم methods های تست را واقعاً کوچک نگه دارم. در حالت ایده‌آل، هر متد شامل سه statement است. هر جا که بتوانم از methods factory مانند aPaidOrder() استفاده می‌کنم. The method name می‌تواند برای توصیف آنچه در مورد object که برمی‌گرداند، خاص است، استفاده شود. این درک این را آسان‌تر می‌کند که test سعی می‌کند چه چیزی را ثابت کند.</p>
    <p>Listing 14.1. Examples از unit tests برای یک entity.</p>
    <pre><code class="language-php">
use PHPUnit\Framework\TestCase;
final class OrderTest extends TestCase
</code></pre>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>