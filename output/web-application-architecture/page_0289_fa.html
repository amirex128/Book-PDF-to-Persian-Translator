<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 289</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <h4><strong>11.5.1. Move subscribers to the module where they produce their effect</strong></h4>
    <p>نام class از یک event subscriber باید آنچه را که قرار است انجام دهد، توصیف کند، به عنوان مثال "create an invoice" (Listing 11.19). متدهای event subscriber باید توصیف کنند که چه زمانی قرار است این کار را انجام دهد. انجام این کار به شما اجازه می‌دهد event subscribers را به ناحیه‌ای که در آن effect خود را ایجاد می‌کنند، منتقل کنید. به عنوان مثال، invoicing ممکن است در یک بخش کاملاً متفاوت از application رسیدگی شود. اگر order module به invoicing module دسترسی پیدا کند و شروع به فراخوانی methods در آنجا کند، به توانایی جدا کردن modules از یکدیگر آسیب می‌رساند. شکل 11.3 نشان می‌دهد که چگونه انجام این کار یک dependency از order module به invoicing module ایجاد می‌کند.</p>
    <p>
        <img src="https://via.placeholder.com/300" alt="Figure 11.3. The CreateInvoice subscriber, which lives in the Orders mod-
ule, uses the the InvoicingService from the Invoicing module,
establishing a dependency from the Orders module to the In-
voicing module.">
        <figcaption>شکل 11.3. CreateInvoice subscriber، که در ماژول Orders قرار دارد، از InvoicingService از ماژول Invoicing استفاده می‌کند، و یک dependency از ماژول Orders به ماژول Invoicing ایجاد می‌کند.</figcaption>
    </p>
    <p>
        The order ابتدا می‌آید و تعیین می‌کند که چه چیزی باید invoiced شود. invoice دوم می‌آید و بر اساس data از order است. بنابراین order module upstream است، the invoicing module downstream است. ما باید این را در نحوه تنظیم event subscribers نیز منعکس کنیم. The CreateInvoice subscriber باید در invoicing module قرار داشته باشد و خود را به رویدادهایی که در داخل order module تولید می‌شوند، مشترک کند. هر زمان که رویداد OrderFullyDelivered رخ می‌دهد، ایجاد invoice را شروع می‌کند، که یک entity است که توسط invoicing module مدیریت می‌شود. با مرتب کردن things به این ترتیب، the orders module مجبور نیست چیزی در مورد invoicing module بداند. the invoicing module
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0289/image_1.png" alt="Image from page 289" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>