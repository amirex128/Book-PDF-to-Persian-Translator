<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 250</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        بخش "inversion" از dependency inversion نشان می‌دهد که جهت dependency معمولی معکوس می‌شود. شکل 9.4 جهت dependency معمولی را قبل از اعمال dependency inversion نشان می‌دهد. EbookOrderService به OrderRepositoryUsingSql وابسته است. این یک concrete class است که می‌داند چگونه سفارش‌ها را در یک relational database ذخیره کند. فلش dependency از چپ به راست است، زیرا service به repository وابسته است.
    </p>
    <p>
        <img src="https://via.placeholder.com/300" alt="Figure 9.4. EbookOrderService uses OrderRepositoryUsesSql as a depen-
dency, and gets it injected as a constructor argument.">
        <figcaption>شکل 9.4. EbookOrderService از OrderRepositoryUsesSql به عنوان یک dependency استفاده می‌کند و آن را به عنوان یک constructor argument تزریق می‌کند.</figcaption>
    </p>
    <p>
        شکل 9.5 نشان می‌دهد که وقتی یک abstraction مناسب برای concrete OrderRepositoryUsingSql class معرفی می‌کنیم، چه اتفاقی می‌افتد.
    </p>
    <p>
        Abstraction، OrderRepository نامیده می‌شود و یک interface است. اگر OrderRepositoryUsingSql به منظور پیاده‌سازی OrderRepository interface، EbookOrderService می‌تواند به جای concrete class، شروع به وابستگی به interface کند. در diagram می‌بینید که دیگر فلشی از EbookOrderService به OrderRepositoryUsingSql وجود ندارد. ما با موفقیت این dependency را معکوس کرده‌ایم.
    </p>
    <p>
        <img src="https://via.placeholder.com/300" alt="Figure 9.5. After applying Dependency inversion, EbookOrderService no longer depends on OrderRepositoryUsingSql.">
        <figcaption>شکل 9.5. پس از اعمال Dependency inversion، EbookOrderService دیگر به OrderRepositoryUsingSql وابسته نیست.</figcaption>
    </p>
    <p>
        این به ما انعطاف‌پذیری زیادی می‌دهد.
        ما می‌توانیم implementation از OrderRepository را بدون ایجاد مزاحمت برای EbookOrderService تغییر دهیم. تا زمانی که implementation اصلاح شده به درستی contract تعریف شده توسط interface را پیاده‌سازی کند، همه چیز خوب خواهد بود. در واقع، ما حتی می‌توانیم به طور کامل...
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0250/image_1.png" alt="Image from page 250" /></div>
<div class="page-image"><img src="page_0250/image_2.png" alt="Image from page 250" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>