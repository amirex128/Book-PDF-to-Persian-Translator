<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 255</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        برای من، legacy code به سادگی کد بدون تست است.<sup>2</sup>
        شما به تکنیک‌های خاصی برای رسیدگی به این نوع کد نیاز دارید. زودتر از کد تست شده، احساس نیاز به بازنویسی بخش‌هایی از آن خواهید کرد. با این حال، تغییر هر چیزی در مورد آن، کار بسیار ترسناکی خواهد بود، زیرا احتمال زیادی وجود دارد که شما چیزها را خراب کنید. همانطور که مارتین فاولر می‌گوید:
    </p>
    <p>
        هر زمان که من refactoring انجام می‌دهم، اولین قدم همیشه یکسان است. من باید اطمینان حاصل کنم که مجموعه کاملی از تست‌ها برای آن بخش از کد دارم. تست‌ها ضروری هستند، زیرا اگرچه من refactorings را دنبال خواهم کرد که ساختار یافته‌اند تا از بیشتر فرصت‌ها برای معرفی اشکالات جلوگیری کنند، اما من هنوز انسان هستم و همچنان اشتباه می‌کنم.<sup>3</sup>
    </p>
    <p>
        این عدم تقارن جالبی در مورد تست‌ها وجود دارد، همانطور که رابرت مارتین اشاره می‌کند:
    </p>
    <p>
        من می‌دانم که این مسخره به نظر می‌رسد. اما در نظر بگیرید. اگر به نوعی تمام production code شما حذف شود، اما شما یک backup از تست‌های خود داشته باشید، در این صورت می‌توانید system production را با کمی کار دوباره ایجاد کنید.<sup>4</sup>
    </p>
    <p>
        اگر شما فقط production code دارید، در این صورت نوشتن تست برای آن واقعاً سخت خواهد بود. اگر فقط تست دارید، نوشتن production code که باعث می‌شود آن‌ها پاس شوند، بسیار آسان‌تر خواهد بود. این ارزش تست‌ها را نشان می‌دهد: آن‌ها مشخص می‌کنند که production code قرار است چه کاری انجام دهد و، اگر تست‌های خوبی بنویسید، آن‌ها همچنین توضیح خواهند داد که چرا.
    </p>
    <p>
        البته، من می‌دانم که تست کردن گاهی اوقات می‌تواند سخت باشد. این آزاردهنده خواهد بود، گاهی اوقات احساس می‌کنید که کار اضافه است. اما در تجربه من، همه اینها را می‌توان با صرف زمان بیشتر در آن حل کرد. مطمئن شوید که هر روز در تست کردن بهتر می‌شوید. یک قانون وجود دارد که مردم برای این نوع مشکل استفاده می‌کنند: "اگر صدمه می‌زند، بیشتر انجامش بده". فاولر این را "frequency reduces difficulty" می‌نامد<sup>5</sup>.
        این فقط تکرار نیست که آن را آسان‌تر می‌کند. ترفند واقعی این است که تکرار به طور خودکار شما را به دنبال راه‌های بهتری برای انجام آن وا می‌دارد. به عبارت دیگر،
    </p>
    <p>
        <sup>2</sup> Michael Feathers, “Working Effectively with Legacy Code”, First Edition, Prentice Hall (2004)
    </p>
    <p>
        <sup>3</sup> Martin Fowler, “Refactoring: Improving the Design of Existing Code”, Addison-Wesley Professional (2018)
    </p>
    <p>
        <sup>4</sup> Robert C. Martin, “Test First”, https://advwebapparch.com/test-first
    </p>
    <p>
        <sup>5</sup> Martin Fowler, https://advwebapparch.com/frequency-reduces-difficulty
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>