<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 248</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        با. این به این دلیل است که کد هنوز شامل جزئیات infrastructure زیادی است. A use case ممکن است از web controller که آن را فراخوانی می‌کند، جدا نشود. استفاده از service locators و موارد مشابه، از اجرای کد در isolation یا در یک context متفاوت جلوگیری می‌کند. فراخوانی‌ها به external services نیازمند هستند که external service در زمانی که ما می‌خواهیم کد خود را به صورت local تست کنیم، در دسترس باشد. و غیره...
    </p>
    <p>
        <img src="https://via.placeholder.com/300" alt="Figure 9.2. Core code is not strictly separated from infrastructure code.">
        <figcaption>شکل 9.2. Core code به طور دقیق از infrastructure code جدا نشده است.</figcaption>
    </p>
    <p>
        اگر اینطور است، user code شامل ترکیبی از infrastructure code و core code است. شکل 9.2 نشان می‌دهد که این چگونه به نظر می‌رسد. وقتی به این diagram نگاه می‌کنم، فوراً احساس می‌کنم که باید بیت‌های infrastructure code را به کناره‌ها ببرم. من می‌گویم، جایی که آن‌ها به آن تعلق دارند، زیرا infrastructure code کدی است که core code را به دنیای بیرون متصل می‌کند، بنابراین ممکن است تا حد امکان نزدیک به دنیای بیرون زندگی کند.
    </p>
    <p>
        <img src="https://via.placeholder.com/300" alt="Figure 9.3. After defragmenting the user code, we can push even more infrastructure code to the sides, and keep only core code in the middle.">
        <figcaption>شکل 9.3. پس از "defragmenting" the user code، می‌توانیم infrastructure code بیشتری را به کناره‌ها ببریم و فقط core code را در middle نگه داریم.</figcaption>
    </p>
    <p>
        آنچه در middle باقی می‌ماند، پس از "defragmenting" the user code، فقط core code است (شکل 9.3). این کدی است که می‌تواند بدون تکیه بر هیچ infrastructure واقعی و بدون ایجاد هیچ ارتباطی با دنیای اطراف application اجرا شود. No network, no database, no file system, etc. همانطور که در فصل‌های قبلی دیده‌ایم، این برای testing عالی است (همچنین به فصل 14 مراجعه کنید).
    </p>
    <p>
        Core code کاملاً ایزوله به شما امکان می‌دهد تا use cases application خود را در یک مرحله بسیار اولیه از توسعه تست کنید. شما می‌توانید ثابت کنید که application به درستی سناریوهای use case خود را پیاده‌سازی می‌کند، بدون راه‌اندازی routing برای web application خود و بدون اجرای schema migrations بر روی هر database. این عالی است زیرا به شما امکان می‌دهد از همان ابتدای پروژه روی use cases خود کار کنید و بازخورد طراحی را جمع‌آوری کنید، user stories را بهبود بخشید و غیره.
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0248/image_1.png" alt="Image from page 248" /></div>
<div class="page-image"><img src="page_0248/image_2.png" alt="Image from page 248" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>