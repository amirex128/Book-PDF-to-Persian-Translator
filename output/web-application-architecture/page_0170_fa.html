<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 170</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h3> External services</h3>
  <pre><code class="language-php">
$vatRate = $this->vatRateProvider
            ->vatRateForSellingEbooksInCountry('NL');
        // ...
    }
}
</code></pre>
  <p>این ممکن است در لحظه‌ای که متوجه می‌شویم <strong>service</strong> که در حال حاضر از آن استفاده می‌کنیم در واقع خیلی خوب نیست، یا وقتی معلوم می‌شود که نمی‌تواند تمام پاسخ‌هایی را که ما نیاز داریم به ما بدهد، مفید باشد. یا شاید، شما متوجه شوید که فراخوانی یک <strong>service</strong> خارجی یک خطر واقعی برای <strong>responsiveness</strong> از <strong>application</strong> شما است، و شما می‌خواهید یک لیست محلی از نرخ‌های <strong>VAT</strong> را نگه دارید. به این معنا، معرفی <strong>abstractions</strong> یک ابزار معماری است. با استفاده از آن، شما می‌توانید انعطاف‌پذیری را برای سال‌های آینده ایجاد کنید. شما می‌توانید با یک راه‌حل ارزان برای پیاده‌سازی شروع کنید، خواه یک <strong>service</strong> خارجی باشد که در حال حاضر این کار را انجام می‌دهد، یا یک فایل <strong>JSON</strong> که به صورت محلی ذخیره شده است. شما همیشه می‌توانید در زمان مناسب "ارتقا" دهید.</p>
  <p>به پیاده‌سازی‌های ممکن دیگر فکر کنید</p>
  <p>هنگامی که شما <strong>abstractions</strong> را برای وابستگی‌های <strong>service</strong> خود معرفی می‌کنید، مطمئن شوید که در واقع پیاده‌سازی‌های جایگزین ممکن را در نظر می‌گیرید. گاهی اوقات <strong>interface</strong> که در نظر دارید، هنوز هم به پیاده‌سازی که قبلاً برای آن دارید، بیش از حد وابسته است. در نظر بگیرید که آیا <strong>interface</strong> هنوز هم در صورت تغییر به یک <strong>web service</strong> متفاوت یا زمانی که شروع به استفاده از یک جدول <strong>database</strong> به جای یک <strong>service</strong> از راه دور می‌کنید، مفید خواهد بود یا خیر. اغلب جزئیات کمی در مورد پیاده‌سازی اساسی به یک <strong>interface</strong> نفوذ می‌کنند و آن را به یک <strong>abstraction</strong> کمتر قدرتمند تبدیل می‌کنند. به عنوان مثال <strong>interface VatRateProvider</strong> جایگزین در <strong>Listing</strong> 6.12 را در نظر بگیرید.</p>
  <p><strong>Listing</strong> 6.12. This <strong>interface</strong> offers a leaky <strong>abstraction</strong>.</p>
  <pre><code class="language-php">
interface VatRateProvider
{
    public function vatRateForCountry(
        string $countryCode,
        string $filter
    ): VatRate;
}
</code></pre>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>