<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 283</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>این approach چندین مزیت دارد:</p>
    <ol>
        <li>نویز کمتری در داخل application service وجود دارد، زیرا نیازی نیست که خودش با تمام type conversions مقابله کند.</li>
        <li>The getters روی command DTO می‌تواند چندین بار در داخل application service فراخوانی شود. نیازی به تکرار logic مربوط به instantiation نیست.</li>
    </ol>
    <p>یک downside احتمالی این است که شما می‌توانید به طور تصادفی یک domain-level exception را در داخل controller با فراخوانی یکی از آن getters فعال کنید. در عمل، من متوجه می‌شوم که این مسئله مانع ایجاد نمی‌کند و فقط چیزی است که باید از آن آگاه بود.</p>
    <h4><strong>11.4.5. Add contextual information as extra arguments</strong></h4>
    <p>data Contextual مانند ID کاربر فعلی، data از current HTTP request و غیره. نباید در صورت نیاز fetch شوند، و نه باید به عنوان constructor arguments از application service تزریق شوند. در عوض، contextual information همیشه باید به عنوان method arguments ارائه شود (همانطور که در بخش 5.5 مورد بحث قرار گرفت). اگر می‌خواهید ID کاربر فعلی را در entity Order ذخیره کنید، مطمئن شوید که آن را به عنوان یک argument به CreateOrderService منتقل می‌کنید (به Listing 11.15 مراجعه کنید).</p>
    <p>Listing 11.15. Passing contextual information به عنوان بخشی از command DTO.</p>
    <pre><code class="language-php">
final class OrderService
{
    // ...
    public function changeDeliveryAddress(
        ChangeDeliveryAddress $command
</code></pre>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>