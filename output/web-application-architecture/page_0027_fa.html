<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 27</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h3><strong>1. Introduction</strong></h3>
  <p>abstraction کامل برای services که به external systems متکی هستند شامل دو مرحله است:</p>
  <ol>
   <li>معرفی یک interface</li>
   <li>برقراری ارتباط با purpose به جای implementation details</li>
  </ol>
  <p>به عنوان مثال: به جای یک interface از نوع <code>Connection</code> و یک متد <code>insert()</code>، که فقط در context مربوط به کار با relational databases معنی دارد، می‌توانیم یک interface از نوع <code>Repository</code> را با یک متد <code>save()</code> تعریف کنیم. چنین interfaceای با purpose (saving objects) به جای implementation details (storing data in tables) ارتباط برقرار می‌کند. ما جزئیات این نوع refactoring را در فصل 2 مورد بحث قرار خواهیم داد.</p>
  <p><strong>1.3. Rule no 2: No special context needed</strong></p>
  <p>دومین rule برای core code این است:</p>
  <p><em>Core code</em> نیازی به یک environment خاص برای اجرا ندارد، و همچنین وابستگی‌هایی ندارد که فقط برای اجرا در یک context خاص طراحی شده باشند.</p>
  <p>Listing 1.4 برخی از مثال‌های کدی را نشان می‌دهد که قبل از اینکه بتوانید آن را اجرا کنید، به context خاصی نیاز دارد. فرض می‌کند که موارد خاصی تنظیم شده‌اند، یا اینکه در داخل یک نوع خاص از application، مانند یک web یا یک application از نوع command-line (CLI) اجرا می‌شود.</p>
  <p><strong>Listing 1.4.</strong> Examples of code that needs a special context to run in.</p>
  <pre><code class="language-php">
 final class RequiresASpecialContext
 {
  public function usesGlobalState(): void
  {
  /*
  * Here we rely on global state, and we assume this
  * method gets executed as part of an HTTP request.
  */
  $host = $_SERVER['HTTP_HOST'];
  }
 }
 </code></pre>
  <p>7</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>