<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 26</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <h3><strong>مقدمه</strong></h3>
  <p>متد <code>registerUser()</code> مستقیماً از PDO1 برای اتصال به یک database و اجرای queries استفاده نمی‌کند. در عوض، از یک abstraction برای database connections (interface به نام <code>Connection</code>) استفاده می‌کند. این بدان معناست که object از نوع <code>Connection</code> که به عنوان یک constructor argument تزریق می‌شود، می‌تواند با یک پیاده‌سازی ساده‌تر از همان interface جایگزین شود که در واقع به یک database نیاز ندارد (به Listing 1.3 مراجعه کنید).</p>
  <p><strong>Listing 1.3.</strong> یک پیاده‌سازی از <code>Connection</code> که به یک database نیاز ندارد.</p>
  <pre><code class="language-php">
 final class ConnectionDummy implements Connection
 {
  /**
  * @var array&lt;array&lt;string,mixed&gt;&gt;
  */
  private array $records;
  /**
  * @param array&lt;string,mixed&gt; $data
  */
  public function insert(string $table, array $data): void
  {
  $this-&gt;records[$table][] = $data;
  }
 }
 </code></pre>
  <p>این امر باعث می‌شود که کد در متد <code>registerUser()</code> اجرا شود، بدون اینکه نیازی به راه‌اندازی و اجرای database واقعی باشد. آیا این باعث می‌شود این کد core code باشد؟ نه، زیرا interface از نوع <code>Connection</code> به طور خاص برای برقراری ارتباط با relational databases طراحی شده است، همانطور که خود signature از متد <code>insert()</code> نشان می‌دهد. بنابراین، اگرچه متد <code>registerUser()</code> مستقیماً به یک system خارجی وابسته نیست، اما به کدی که برای تعامل با یک نوع خاص از system خارجی نوشته شده است، وابسته است. این بدان معنی است که کد در Listing 1.2 core code نیست، بلکه infrastructure code است.</p>
  <p>به طور کلی، abstraction راه‌حل مناسبی برای خلاص شدن از وابستگی‌ها به external systems است. ما در فصل‌های بعدی چندین مثال از abstraction را مورد بحث قرار خواهیم داد، اما ممکن است ارائه خلاصه ای در اینجا مفید باشد. ایجاد</p>
  <p>1PDO یک PHP extension است که یک API برای دسترسی به relational databases فراهم می‌کند. به آدرس https://advwebapparch.com/pdo مراجعه کنید.</p>
  <p>6</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>