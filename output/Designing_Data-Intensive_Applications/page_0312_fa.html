<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 312</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <ul>
        <li>
            اگر یک node به طور تصادفی از سرورهای NTP <em>firewalled off</em> شود، <em>misconfiguration</em> ممکن است برای مدتی نامحسوس باقی بماند. شواهد حکایتی نشان می‌دهد که این در عمل اتفاق می‌افتد.
        </li>
        <li>
            همگام‌سازی NTP تنها به اندازه تأخیر شبکه خوب است، بنابراین وقتی شما در یک شبکه شلوغ با تأخیرهای متغیر <em>packet</em> هستید، محدودیتی برای دقت آن وجود دارد. یک آزمایش نشان داد که حداقل <em>error</em> از 35 میلی‌ثانیه هنگام همگام‌سازی از طریق اینترنت قابل دستیابی است [42]، اگرچه <em>spikes</em> های گاه به گاه در تأخیر شبکه منجر به <em>errors</em> در حدود یک ثانیه می‌شوند. بسته به <em>configuration</em>، تأخیرهای زیاد شبکه می‌توانند باعث شوند که client NTP به طور کامل رها کند.
        </li>
        <li>
            برخی از سرورهای NTP اشتباه یا <em>misconfigured</em> هستند و زمانی را گزارش می‌کنند که ساعت‌ها خاموش است [43, 44]. <em>NTP clients</em> بسیار قوی هستند، زیرا آنها از چندین سرور query می‌گیرند و <em>outliers</em> را نادیده می‌گیرند. با این وجود، شرط بستن درستی system شما بر روی زمانی که توسط یک غریبه در اینترنت به شما گفته شد، تا حدودی نگران‌کننده است.
        </li>
        <li>
            <em>Leap seconds</em> منجر به یک دقیقه می‌شود که 59 ثانیه یا 61 ثانیه طول دارد، که فرضیات زمان‌بندی در سیستم‌هایی که با <em>leap seconds</em> در نظر گرفته نشده‌اند را بهم می‌ریزد [45]. این واقعیت که <em>leap seconds</em>، بسیاری از سیستم‌های بزرگ را <em>crashed</em> کرده‌اند [38, 46] نشان می‌دهد که چقدر آسان است که فرضیات نادرست در مورد ساعت‌ها به یک system وارد شوند. بهترین راه برای مدیریت <em>leap seconds</em> ممکن است این باشد که سرورهای NTP "<em>lie</em>" کنند، با انجام تنظیم <em>leap second</em> به تدریج در طول یک روز (این به عنوان <em>smearing</em> شناخته می‌شود) [47, 48]، اگرچه رفتار سرور NTP واقعی در عمل متفاوت است [49].
        </li>
        <li>
            در <em>virtual machines</em>، ساعت سخت‌افزاری <em>virtualized</em> می‌شود، که چالش‌های اضافی را برای applications هایی که نیاز به <em>accurate timekeeping</em> دارند، ایجاد می‌کند [50]. هنگامی که یک <em>CPU core</em> بین <em>virtual machines</em> به اشتراک گذاشته می‌شود، هر VM برای ده‌ها میلی‌ثانیه متوقف می‌شود در حالی که VM دیگری در حال اجرا است. از دیدگاه application، این توقف خود را به عنوان ساعت نشان می‌دهد که ناگهان به جلو می‌پرد [26].
        </li>
        <li>
            اگر شما نرم‌افزاری را روی دستگاه‌هایی اجرا می‌کنید که کاملاً کنترل ندارید (به عنوان مثال، دستگاه‌های mobile یا embedded)، احتمالاً نمی‌توانید به ساعت سخت‌افزاری دستگاه اعتماد کنید. برخی از users ها عمداً ساعت سخت‌افزاری خود را روی یک تاریخ و زمان نادرست تنظیم می‌کنند، به عنوان مثال برای دور زدن محدودیت‌های زمان‌بندی در بازی‌ها. در نتیجه، ساعت ممکن است به زمانی به شدت در گذشته یا آینده تنظیم شود.
        </li>
    </ul>
    <p>
        اگر شما به اندازه کافی به آن اهمیت می‌دهید که منابع قابل توجهی را سرمایه‌گذاری کنید، می‌توان به دقت بسیار خوبی در ساعت دست یافت. به عنوان مثال، پیش‌نویس مقررات اروپایی MiFID II برای مؤسسات مالی، از تمام funds های <em>high-frequency trading</em> می‌خواهد تا ساعت‌های خود را در 100 میکروثانیه از UTC همگام‌سازی کنند، تا به اشکال‌زدایی <em>market anomalies</em> مانند "<em>flash crashes</em>" و کمک به تشخیص <em>market manipulation</em> کمک کند [51].
    </p>
    <p>
        چنین دقتی را می‌توان با استفاده از گیرنده‌های GPS، <em>the Precision Time Protocol (PTP)</em> [52] و <em>careful deployment and monitoring</em> به دست آورد. با این حال، این نیازمند تلاش و تخصص قابل توجهی است، و راه‌های زیادی وجود دارد که همگام‌سازی ساعت می‌تواند اشتباه پیش برود
        <br>
        290
        <br>
        |
        <br>
        Chapter 8: The Trouble with Distributed Systems
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>