<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 120</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        شکل 3-11. ذخیره شده، bitmap-indexed از یک column واحد.
    </p>
    <p>
        اغلب، تعداد distinct values در یک column در مقایسه با تعداد rows کوچک است (به عنوان مثال، یک خرده‌فروش ممکن است میلیاردها sales transactions داشته باشد، اما فقط 100000 محصول distinct). اکنون ما می‌توانیم یک column با n distinct values را بگیریم و آن را به n bitmaps جداگانه تبدیل کنیم: یک bitmap برای هر value distinct، با یک bit برای هر row. The bit برابر 1 است اگر ردیف آن value را داشته باشد، و 0 در غیر این صورت.
    </p>
    <p>
        اگر n بسیار کوچک باشد (به عنوان مثال، یک column country ممکن است تقریباً 200 distinct values داشته باشد)، آن bitmaps را می‌توان با یک bit در هر ردیف ذخیره کرد. اما اگر n بزرگتر باشد، zeros زیادی در بیشتر bitmaps وجود خواهد داشت (ما می‌گوییم که آن‌ها sparse هستند). در این صورت، bitmaps می‌توانند علاوه بر این run-length encoded باشند، همانطور که در قسمت پایین شکل 3-11 نشان داده شده است. این می‌تواند encoding از یک column را به طرز چشمگیری compact کند.
    </p>
    <p>
        Bitmap indexes مانند این‌ها برای انواع queries که در یک data warehouse رایج هستند، بسیار مناسب هستند. به عنوان مثال:
    </p>
    <pre><code class="language-sql">WHERE product_sk IN (30, 68, 69):
</code></pre>
    <p>
        بارگذاری سه bitmaps برای product_sk = 30، product_sk = 68 و product_sk = 69، و محاسبه OR bitwise از سه bitmaps، که می‌تواند بسیار کارآمد انجام شود.
    </p>
    <p>
        98 | Chapter 3: Storage and Retrieval
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0120/image_1.png" alt="Image from page 120" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>