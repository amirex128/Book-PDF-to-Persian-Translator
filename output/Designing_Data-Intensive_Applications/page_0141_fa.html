<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 141</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        مشابه شکل 4-1، هر فیلد دارای یک type annotation است (برای نشان دادن اینکه آیا این یک string، integer، list و غیره است) و در صورت نیاز، یک length indication (طول یک string، تعداد آیتم‌ها در یک list). The strings که در داده‌ها ظاهر می‌شوند (“Martin”، “daydream‐ing” و “hacking”) نیز به عنوان ASCII (یا بهتر است بگوییم، UTF-8)، مشابه قبل، encoding شده‌اند.
    </p>
    <p>
        The big difference compared to Figure 4-1 این است که هیچ field names (userName, favoriteNumber, interests) وجود ندارد. در عوض، data encoded شامل field tags است که اعداد هستند (1، 2 و 3). این‌ها اعدادی هستند که در تعریف schema ظاهر می‌شوند.
        Field tags مانند aliases برای fields هستند—آن‌ها یک راه compact از گفتن اینکه در مورد کدام فیلد صحبت می‌کنیم، بدون نیاز به نوشتن نام فیلد هستند.
    </p>
    <p>
        The Thrift CompactProtocol encoding از نظر معنایی معادل BinaryProtocol است، اما همانطور که در شکل 4-3 مشاهده می‌کنید، همان اطلاعات را فقط در 34 بایت بسته‌بندی می‌کند. این کار را با بسته‌بندی field type و tag number در یک بایت واحد و با استفاده از integers با variable-length انجام می‌دهد. به جای استفاده از هشت بایت کامل برای عدد 1337، در دو بایت encoding شده است، با top bit از هر بایت که برای نشان دادن اینکه آیا bytes بیشتری در راه است، استفاده می‌شود. این بدان معناست که اعداد بین –64 و 63 در یک بایت، اعداد بین –8192 و 8191 در دو بایت، و غیره encoding می‌شوند. اعداد بزرگتر از bytes بیشتری استفاده می‌کنند.
    </p>
    <p>
        شکل 4-3. Example record encoded با استفاده از CompactProtocol از Thrift.
    </p>
    <p>
        در نهایت، Protocol Buffers (که فقط یک binary encoding format دارد) همان داده‌ها را همانطور که در شکل 4-4 نشان داده شده است، encoding می‌کند. bit packing را کمی متفاوت انجام می‌دهد، اما
    </p>
    <p>
        Formats for Encoding Data | 119
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0141/image_1.png" alt="Image from page 141" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>