<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 33</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>ii. A term borrowed from electronic engineering, where it describes the number of logic gate inputs that are
   attached to another gate’s output. The output needs to supply enough current to drive all the attached inputs.</p>
  <p>در سیستم‌های پردازش تراکنش، ما از آن برای توصیف تعداد درخواست‌ها به سرویس‌های دیگری استفاده می‌کنیم که برای ارائه یک درخواست ورودی باید انجام دهیم.</p>
  <p><strong>scalability</strong> به‌معنای در نظر گرفتن سؤالاتی مانند "اگر سیستم به روش خاصی رشد کند، گزینه‌های ما برای مقابله با رشد چیست؟" و "چگونه می‌توانیم منابع محاسباتی را برای رسیدگی به بار اضافی اضافه کنیم؟"</p>
  <h4>Describing Load</h4>
  <p>ابتدا، ما باید بار فعلی را بر روی سیستم به‌طور مختصر توصیف کنیم؛ تنها در این صورت می‌توانیم در مورد سؤالات رشد (چه اتفاقی می‌افتد اگر بار ما دو برابر شود؟) بحث کنیم. بار را می‌توان با چند عدد توصیف کرد که ما آن‌ها را <strong>load parameters</strong> می‌نامیم. بهترین انتخاب پارامترها به <strong>architecture</strong> سیستم شما بستگی دارد: ممکن است درخواست در ثانیه به یک <strong>web server</strong>، نسبت خواندن به نوشتن در یک <strong>database</strong>، تعداد کاربران فعال هم‌زمان در یک اتاق گفتگو، <strong>hit rate</strong> روی یک <strong>cache</strong> یا چیز دیگری باشد. شاید <strong>average case</strong> برای شما مهم باشد، یا شاید گلوگاه شما تحت سلطه تعداد کمی از موارد شدید باشد.</p>
  <p>برای ملموس‌تر کردن این ایده، بیایید <strong>Twitter</strong> را به‌عنوان مثال در نظر بگیریم، با استفاده از <strong>data</strong> منتشر شده در نوامبر 2012 [16]. دو مورد از عملیات اصلی <strong>Twitter</strong> عبارت‌اند از:</p>
  <ul>
   <li><strong>Post tweet</strong></li>
   <p>یک کاربر می‌تواند یک پیام جدید را برای دنبال‌کنندگان خود منتشر کند (4.6k درخواست/ثانیه به‌طور متوسط، بیش از 12k درخواست/ثانیه در اوج).</p>
   <li><strong>Home timeline</strong></li>
   <p>یک کاربر می‌تواند توییت‌های ارسال شده توسط افرادی را که دنبال می‌کند، مشاهده کند (300k درخواست/ثانیه).</p>
  </ul>
  <p>به‌سادگی رسیدگی به 12000 نوشتن در ثانیه (نرخ اوج برای ارسال توییت) نسبتاً آسان خواهد بود. با این حال، چالش مقیاس‌پذیری <strong>Twitter</strong>، در درجه اول به دلیل حجم توییت نیست، بلکه به دلیل <strong>fan-outii</strong> است—هر کاربر افراد زیادی را دنبال می‌کند و هر کاربر توسط افراد زیادی دنبال می‌شود. به‌طورکلی دو راه برای پیاده‌سازی این دو عملیات وجود دارد:</p>
  <ol>
   <li>ارسال یک توییت به‌سادگی توییت جدید را در مجموعه جهانی توییت‌ها درج می‌کند. هنگامی‌که یک کاربر جدول زمانی خانه خود را درخواست می‌کند، تمام افرادی را که دنبال می‌کند جستجو می‌کند، تمام توییت‌های هر یک از آن کاربران را پیدا می‌کند و آن‌ها را ادغام می‌کند (بر اساس زمان مرتب‌شده). در یک <strong>relational database</strong> مانند شکل 1-2، می‌توانید یک <strong>query</strong> مانند موارد زیر بنویسید:</li>
   <pre><code class="language-sql">SELECT tweets.*, users.* FROM tweets
  JOIN users   ON tweets.sender_id    = users.id
  JOIN follows ON follows.followee_id = users.id
  WHERE follows.follower_id = current_user
</code></pre>
  </ol>
  <p>Scalability | 11</p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>