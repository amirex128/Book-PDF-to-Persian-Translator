<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 423</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <figure>
        <img src="figure10-1.png" alt="شکل 10-1">
        <figcaption>
            شکل 10-1. A MapReduce job با سه mapper و سه reducer.
        </figcaption>
    </figure>

    <p>
        در اکثر موارد، the application code که باید در map task اجرا شود، هنوز در machine که به آن task از اجرای آن اختصاص داده شده است، وجود ندارد، بنابراین the MapReduce framework ابتدا کد را کپی می‌کند (به عنوان مثال، JAR files در مورد یک برنامه Java) به machines مناسب. سپس map task را شروع می‌کند و خواندن input file را آغاز می‌کند، و یک record را در یک زمان به the mapper callback پاس می‌دهد. The output از the mapper شامل key-value pairs است.
    </p>

    <p>
        The reduce side از computation نیز partitioned شده است. در حالی که number از map tasks توسط number از input file blocks تعیین می‌شود، number از reduce tasks توسط job author پیکربندی می‌شود (این می‌تواند با number از map tasks متفاوت باشد). برای اطمینان از اینکه همه key-value pairs با همان key در همان reducer به پایان می‌رسند، framework از یک hash از key برای تعیین اینکه کدام reduce task باید یک key-value pair خاص را دریافت کند، استفاده می‌کند ("Partitioning by Hash of Key" در صفحه 203 را ببینید).
    </p>

    <p>
        The key-value pairs باید مرتب شوند، اما احتمالاً the dataset بسیار بزرگ است که با یک sorting algorithm conventional بر روی یک machine واحد مرتب شود. در عوض، sorting در stages انجام می‌شود. اول، هر map task، output خود را بر اساس reducer، بر اساس hash از key، partition می‌کند. هر یک از این partitions به یک فایل مرتب شده بر روی the mapper’s local disk نوشته می‌شود، با استفاده از یک تکنیک مشابه با آنچه ما در "SSTables and LSM-Trees" در صفحه 76 بحث کردیم.
    </p>
    <p>
        MapReduce and Distributed Filesystems | 401
    </p>
 </div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0423/image_1.png" alt="Image from page 423" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>