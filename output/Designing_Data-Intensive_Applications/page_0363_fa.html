<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 363</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <p>
        اگر یک سیستم از ordering تحمیل شده توسط causality پیروی کند، ما می‌گوییم که آن causally consistent است. به عنوان مثال، snapshot isolation, causal consistency را فراهم می‌کند: هنگامی که شما از database می‌خوانید، و مقداری از داده‌ها را می‌بینید، باید قادر باشید هر داده‌ای را که به صورت causal قبل از آن قرار دارد نیز ببینید (با فرض اینکه در این بین حذف نشده باشد).
    </p>

    <h4>The causal order is not a total order</h4>
    <p>
        یک total order به هر دو عنصر اجازه می‌دهد تا مقایسه شوند، بنابراین اگر شما دو عنصر دارید، همیشه می‌توانید بگویید کدام یک بزرگتر و کدام یک کوچکتر است. به عنوان مثال، natural numbers به طور کامل ordered هستند: اگر من به شما دو عدد بدهم، مثلاً 5 و 13، شما می‌توانید به من بگویید که 13 بزرگتر از 5 است.
    </p>

    <p>
        با این حال، mathematical sets به طور کامل ordered نیستند: آیا {a, b} بزرگتر از {b, c} است؟ خوب، شما واقعاً نمی‌توانید آن‌ها را مقایسه کنید، زیرا هیچ‌کدام subset دیگری نیستند. ما می‌گوییم آن‌ها غیرقابل مقایسه هستند، و بنابراین mathematical sets به طور partial ordered هستند: در برخی موارد یک set بزرگتر از set دیگری است (اگر یک set شامل تمام عناصر set دیگری باشد)، اما در موارد دیگر آن‌ها غیرقابل مقایسه هستند.
    </p>

    <p>
        تفاوت بین یک total order و یک partial order در مدل‌های consistency مختلف database منعکس می‌شود:
    </p>
    <ul>
        <li>
            Linearizability
            <p>
                در یک سیستم linearizable، ما یک total order از operations داریم: اگر سیستم طوری رفتار می‌کند که گویی فقط یک کپی از داده وجود دارد، و هر عملیات atomic است، این بدان معناست که برای هر دو عملیات ما همیشه می‌توانیم بگوییم کدام یک اول اتفاق افتاده است.
                این total ordering در شکل 9-4 به عنوان یک timeline نشان داده شده است.
            </p>
        </li>
        <li>
            Causality
            <p>
                ما گفتیم که دو عملیات concurrent هستند اگر هیچ کدام قبل از دیگری اتفاق نیفتاده باشد (به "The “happens-before” relationship and concurrency" در صفحه 186 مراجعه کنید). به عبارت دیگر، دو رویداد ordered هستند اگر به صورت causal با هم مرتبط باشند (یکی قبل از دیگری اتفاق افتاده است)، اما اگر concurrent باشند، غیرقابل مقایسه هستند. این بدان معناست که causality یک partial order را تعریف می‌کند، نه یک total order: برخی از operations نسبت به یکدیگر ordered هستند، اما برخی غیرقابل مقایسه هستند.
            </p>
        </li>
    </ul>
    <p>
        بنابراین، طبق این تعریف، هیچ عملیات concurrent در یک linearizable datastore وجود ندارد: باید یک timeline واحد وجود داشته باشد که در آن همه عملیات به طور کامل ordered شده‌اند. ممکن است چندین request وجود داشته باشد که منتظر رسیدگی هستند، اما datastore تضمین می‌کند که هر request به صورت اتمی در یک نقطه از زمان، با عملکرد بر روی یک کپی از داده‌ها، در امتداد یک timeline واحد، بدون هیچ concurrency رسیدگی می‌شود.
    </p>

    <p>
        Concurrency به این معنی است که timeline شاخه می‌شود و دوباره ادغام می‌شود - و در این صورت، عملیات‌ها در شاخه‌های مختلف غیرقابل مقایسه هستند (یعنی concurrent). ما این پدیده را در فصل 5 دیدیم: به عنوان مثال، شکل 5-14 یک total order خط مستقیم نیست، بلکه یک jumble از عملیات‌های مختلف است که به طور concurrent در حال انجام هستند. فلش‌ها در نمودار نشان‌دهنده causal dependencies هستند - partial ordering of operations.
    </p>
    <p>
        Ordering Guarantees | 341
    </p>
 </div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>