<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 356</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <p>
        configuration of the quorums، و بسته به نحوه تعریف strong consistency، این کاملاً درست نیست.
    </p>

    <p>
        روش‌های "Last write wins" conflict resolution مبتنی بر ساعت‌های زمان روز (به عنوان مثال، در Cassandra؛ به "Relying on Synchronized Clocks" در صفحه 291 مراجعه کنید) تقریباً مطمئناً nonlinearizable هستند، زیرا نمی‌توان تضمین کرد که timestampهای ساعت با ترتیب رویداد واقعی به دلیل clock skew سازگار باشند. Sloppy quorums ("Sloppy Quorums and Hinted Handoff" در صفحه 183) نیز هر فرصتی برای linearizability را از بین می‌برند. حتی با strict quorums، رفتار nonlinearizable امکان‌پذیر است، همانطور که در بخش بعدی نشان داده شده است.
    </p>

    <h4>Linearizability and quorums</h4>
    <p>
        از نظر شهودی، به نظر می‌رسد که strict quorum reads و writes باید در یک مدل Dynamo-style linearizable باشند. با این حال، زمانی که ما تأخیرهای متغیر شبکه را داریم، race conditions امکان‌پذیر است، همانطور که در شکل 9-6 نشان داده شده است.
    </p>

    <figure>
        <img src="figure9-6.png" alt="شکل 9-6" style="max-width: 100%;">
        <figcaption>
            شکل 9-6. یک اجرای nonlinearizable، با وجود استفاده از یک strict quorum.
        </figcaption>
    </figure>

    <p>
        در شکل 9-6، مقدار اولیه x برابر 0 است، و یک writer client در حال به‌روزرسانی x به 1 با ارسال write به هر سه replica (n = 3, w = 3) است. همزمان، client A از یک quorum از دو node (r = 2) می‌خواند و مقدار جدید 1 را در یکی از nodeها می‌بیند. همچنین همزمان با write، client B از یک quorum متفاوت از دو node می‌خواند و مقدار قدیمی 0 را از هر دو دریافت می‌کند.
    </p>

    <p>
        شرط quorum برآورده شده است (w + r > n)، اما این اجرا با این وجود linearizable نیست: درخواست B پس از تکمیل درخواست A شروع می‌شود، اما B مقدار قدیمی را برمی‌گرداند.
    </p>
    <p>
        334 | Chapter 9: Consistency and Consensus
    </p>
 </div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0356/image_1.png" alt="Image from page 356" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>