<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 353</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        این وضعیت در واقع شبیه به یک <em>lock</em> است: هنگامی که یک user در service شما ثبت‌نام می‌کند، شما می‌توانید تصور کنید که آنها یک "<em>lock</em>" بر روی username انتخاب‌شده خود به دست می‌آورند. این عملیات نیز بسیار شبیه به یک <em>atomic compare-and-set</em> است، که username را به ID از user که آن را claim کرده است، تنظیم می‌کند، به شرطی که username قبلاً گرفته نشده باشد.
    </p>
    <p>
        مشکلات مشابهی در صورتی ایجاد می‌شود که شما می‌خواهید اطمینان حاصل کنید که موجودی حساب بانکی هرگز منفی نمی‌شود، یا اینکه شما بیشتر از آنچه در انبار دارید، کالا نفروشید، یا اینکه دو نفر به طور همزمان صندلی یکسانی را در یک پرواز یا تئاتر رزرو نکنند.
    </p>
    <p>
        این <em>constraints</em> ها همگی مستلزم این هستند که یک <em>single up-to-date value</em> وجود داشته باشد (موجودی حساب، سطح سهام، اشغال صندلی) که تمام nodes ها بر سر آن توافق داشته باشند.
    </p>
    <p>
        در applications های واقعی، گاهی اوقات قابل قبول است که با چنین <em>constraints</em> هایی به طور سست رفتار کنیم (به عنوان مثال، اگر یک پرواز <em>overbooked</em> باشد، شما می‌توانید مشتریان را به یک پرواز متفاوت منتقل کنید و برای ناراحتی آنها به آنها غرامت دهید). در این موارد، <em>linearizability</em> ممکن است مورد نیاز نباشد، و ما در مورد چنین <em>constraints</em> هایی که به طور سست تفسیر شده‌اند، در "Timeliness and Integrity" در صفحه 524 بحث خواهیم کرد.
    </p>
    <p>
        با این حال، یک <em>hard uniqueness constraint</em>، مانند موردی که معمولاً در relational databases ها پیدا می‌کنید، به <em>linearizability</em> نیاز دارد. انواع دیگر <em>constraints</em>، مانند <em>foreign key</em> یا <em>attribute constraints</em>، را می‌توان بدون نیاز به <em>linearizability</em> پیاده‌سازی کرد [19].
    </p>
    <h4>Cross-channel timing dependencies</h4>
    <p>
        به یک جزئیات در شکل 9-1 توجه کنید: اگر آلیس نتیجه را اعلام نکرده بود، باب نمی‌دانست که نتیجه query او <em>stale</em> است. او فقط چند ثانیه بعد دوباره صفحه را رفرش می‌کرد، و در نهایت نتیجه نهایی را می‌دید. تخلف از linearizability فقط به این دلیل مشاهده شد که یک کانال ارتباطی اضافی در system وجود داشت (صدای آلیس به گوش باب).
    </p>
    <p>
        وضعیت‌های مشابهی می‌تواند در system های کامپیوتری ایجاد شود. به عنوان مثال، فرض کنید شما یک وب‌سایت دارید که در آن users می‌توانند یک عکس را <em>upload</em> کنند، و یک فرآیند پس‌زمینه، اندازه‌های عکس‌ها را برای دانلود سریع‌تر (<em>thumbnails</em>) تغییر می‌دهد. معماری و <em>dataflow</em> از این system در شکل 9-5 نشان داده شده است.
    </p>
    <p>
        <em>The image resizer</em> نیاز دارد که صریحاً دستورالعمل اجرای یک <em>resizing job</em> را دریافت کند، و این دستورالعمل از وب سرور از طریق یک صف پیام (به فصل 11 مراجعه کنید) به <em>resizer</em> ارسال می‌شود. وب سرور کل عکس را در صف قرار نمی‌دهد، زیرا اکثر <em>message brokers</em> برای پیام‌های کوچک طراحی شده‌اند، و یک عکس ممکن است چندین مگابایت حجم داشته باشد. در عوض، عکس ابتدا در یک <em>file storage service</em> نوشته می‌شود، و هنگامی که <em>write</em> تکمیل شد، دستورالعمل به <em>resizer</em> در صف قرار می‌گیرد.
        <br>
        Linearizability
        <br>
        |
        <br>
        331
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>