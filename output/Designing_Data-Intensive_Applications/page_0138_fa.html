<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 138</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        Example 4-1. Example record که ما در این فصل در چندین binary formats آن را encoding خواهیم کرد
    </p>
    <pre><code class="language-json">{
    "userName": "Martin",
    "favoriteNumber": 1337,
    "interests": ["daydreaming", "hacking"]
}
</code></pre>
    <p>
        بیایید به یک نمونه از MessagePack نگاهی بیندازیم، یک binary encoding برای JSON. شکل 4-1 byte sequence را نشان می‌دهد که اگر شما document JSON را در Example 4-1 با MessagePack [14] encoding کنید، دریافت می‌کنید. چند بایت اول به شرح زیر است:
    </p>
    <ol>
        <li>The first byte, 0x83, نشان می‌دهد که آنچه در ادامه می‌آید یک object (top four bits = 0x80) با سه فیلد (bottom four bits = 0x03) است. (در صورتی که از خود می‌پرسید اگر یک object بیش از 15 فیلد داشته باشد چه اتفاقی می‌افتد، به طوری که تعداد فیلدها در چهار بیت جا نمی‌شود، سپس یک نوع indicator متفاوت دریافت می‌کند و تعداد فیلدها در دو یا چهار بایت encoding می‌شود.)</li>
        <li>The second byte, 0xa8, نشان می‌دهد که آنچه در ادامه می‌آید یک string (top four bits = 0xa0) است که هشت بایت طول دارد (bottom four bits = 0x08).</li>
        <li>The next هشت بایت، field name userName در ASCII است. از آنجایی که طول قبلاً نشان داده شده بود، نیازی به هیچ marker برای گفتن اینکه string به کجا ختم می‌شود (یا هیچ escaping) وجود ندارد.</li>
        <li>The next هفت بایت، value string شش حرفی Martin را با یک پیشوند 0xa6 encoding می‌کنند، و به همین ترتیب.</li>
    </ol>
    <p>
        The binary encoding 66 بایت طول دارد که فقط کمی کمتر از 81 بایت است که توسط the textual JSON encoding (با حذف space سفید) گرفته شده است. همه the binary encodings از JSON در این مورد مشابه هستند. مشخص نیست که آیا چنین کاهش فضای کوچکی (و شاید سرعت بخشیدن به parsing) ارزش از دست دادن human-readability را دارد یا خیر.
    </p>
    <p>
        در بخش‌های بعدی ما خواهیم دید که چگونه می‌توانیم خیلی بهتر عمل کنیم و همان record را فقط در 32 بایت encoding کنیم.
    </p>
    <p>
        116 | Chapter 4: Encoding and Evolution
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>