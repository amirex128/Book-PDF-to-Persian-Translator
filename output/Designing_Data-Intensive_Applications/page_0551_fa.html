<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 551</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
    <p>
        چیزهایی کمتر محتمل هستند. این سوال پیش می‌آید که آیا نقض
        فرضیات ما به‌اندازه‌ی کافی اتفاق می‌افتد که ما ممکن است در عمل با
        آن‌ها مواجه شویم.
    </p>
    <p>
        ما دیده‌ایم که داده‌ها می‌توانند در حالی‌که روی دیسک‌ها دست
        نخورده هستند، خراب شوند (نگاه کنید به "<strong>Replication</strong> و
        <strong>Durability</strong>" در صفحه 227)، و فساد داده‌ها در شبکه
        گاهی اوقات می‌تواند از <strong>checksums TCP</strong> فرار کند (نگاه کنید
        به "اشکال‌های ضعیف دروغ" در صفحه 306).
        شاید این چیزی است که ما باید توجه بیشتری به آن داشته باشیم؟
    </p>
    <p>
        یک برنامه که من در گذشته روی آن کار می‌کردم، گزارش‌های <strong>crash</strong>
        را از <strong>clients</strong> جمع‌آوری می‌کرد، و برخی از گزارش‌هایی که
        ما دریافت کردیم، فقط با <em>bit-flips</em> تصادفی در حافظه‌ی آن
        دستگاه‌ها قابل توضیح بودند. این غیرمحتمل به‌نظر می‌رسد، اما اگر
        شما دستگاه‌های کافی برای اجرای نرم‌افزار خود داشته باشید، حتی
        چیزهای بسیار بعید نیز اتفاق می‌افتند. علاوه بر فساد حافظه‌ی
        تصادفی به‌دلیل خطاهای سخت‌افزاری یا تشعشعات، الگوهای دسترسی
        به حافظه خاصی می‌توانند بیت‌ها را حتی در حافظه‌ای که هیچ <strong>fault</strong>
        ای ندارد، تغییر دهند [62]—اثری که می‌تواند برای شکستن
        مکانیسم‌های امنیتی در سیستم‌های عامل استفاده شود [63] (این
        تکنیک به‌عنوان <strong>rowhammer</strong> شناخته می‌شود). هنگامی که شما
        از نزدیک نگاه می‌کنید، سخت‌افزار یک <strong>abstraction</strong> کاملاً
        بی‌نقص نیست که ممکن است به‌نظر برسد.
    </p>
    <p>
        واضح بگویم، <em>bit-flips</em> تصادفی همچنان در سخت‌افزار مدرن بسیار
        نادر هستند [64]. من فقط می‌خواهم اشاره کنم که آن‌ها خارج از
        قلمرو امکان نیستند، و بنابراین سزاوار توجه هستند.
    </p>

    <h4>حفظ <strong>integrity</strong> در مواجهه با <strong>software bugs</strong></h4>
    <p>
        علاوه بر چنین مسائل سخت‌افزاری، همیشه خطر <strong>software bugs</strong>
        وجود دارد، که توسط <strong>checksums</strong> سطح پایین‌تر شبکه، حافظه،
        یا سیستم فایل‌ها، شناسایی نمی‌شوند. حتی نرم‌افزارهای پایگاه
        داده‌ی پرکاربرد نیز <strong>bugs</strong> دارند: من شخصاً مواردی از <strong>MySQL</strong>
        را دیده‌ام که در حفظ صحیح یک <strong>uniqueness constraint</strong> شکست
        می‌خورد [65] و سطح <em>isolation</em> <em>serializable</em> از
        <strong>PostgreSQL</strong>، <em>anomalies write skew</em> را نشان می‌دهد [66]،
        حتی اگر <strong>MySQL</strong> و <strong>PostgreSQL</strong> پایگاه‌های داده‌ای
        <strong>robust</strong> و مورد احترام هستند که توسط افراد زیادی برای
        سال‌های زیادی مورد آزمایش قرار گرفته‌اند. در نرم‌افزارهای کم‌تر
        بالغ، وضعیت احتمالاً بسیار بدتر است.
    </p>
    <p>
        با وجود تلاش‌های قابل توجه در طراحی دقیق، آزمایش و بررسی،
        <strong>bugs</strong> همچنان رخ می‌دهند. اگرچه آن‌ها نادر هستند، و در
        نهایت پیدا و اصلاح می‌شوند، هنوز یک دوره‌ای وجود دارد که در
        طول آن چنین <strong>bugs</strong> می‌توانند داده‌ها را خراب
        کنند.
    </p>
    <p>
        وقتی نوبت به کد برنامه می‌رسد، ما باید <strong>bugs</strong> های بیشتری را
        فرض کنیم، از آن‌جایی‌که اکثر برنامه‌ها به اندازه‌ی کافی نزدیک به
        مقدار بررسی و آزمایشی که کد پایگاه داده دریافت می‌کند، دریافت
        نمی‌کنند. بسیاری از برنامه‌ها حتی از <strong>features</strong> که پایگاه‌های
        داده برای حفظ <strong>integrity</strong> ارائه می‌دهند، مانند محدودیت‌های
        کلید خارجی یا <strong>uniqueness</strong> به‌درستی استفاده نمی‌کنند
        [36].
    </p>
    <p>
        <strong>Consistency</strong> در معنای <strong>ACID</strong> (نگاه کنید به
        "<strong>Consistency</strong>" در صفحه 224) بر اساس این ایده است
        که پایگاه داده از یک <strong>state</strong> <em>consistent</em> شروع می‌شود،
        و یک تراکنش آن را از یک <strong>state</strong> <em>consistent</em> به
        دیگری تبدیل می‌کند. بنابراین، ما انتظار داریم که پایگاه داده
        همیشه در یک وضعیت <em>consistent</em> باشد. با این حال، این مفهوم
        تنها در صورتی منطقی است که شما فرض کنید که تراکنش از
        <strong>bugs</strong> عاری است. اگر برنامه، پایگاه داده را به‌درستی
        استفاده نکند
        هدف قرار دادن درستی
        |
        529
    </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>