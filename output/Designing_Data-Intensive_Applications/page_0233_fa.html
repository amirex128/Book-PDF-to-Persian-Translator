<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 233</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
            <div>
    <p>
        شکل 6-6. افزودن یک node جدید به یک cluster database با multiple partitions per node.
    </p>
    <p>
        In principle، شما حتی می‌توانید سخت‌افزار mismatch شده را در cluster خود در نظر بگیرید: با اختصاص دادن partitions بیشتری به nodes که قدرتمندتر هستند، شما می‌توانید آن nodes را مجبور کنید که سهم بیشتری از load را بر عهده بگیرند.
    </p>
    <p>
        This approach to rebalancing در Riak [15]، Elasticsearch [24]، Couchbase [10] و Voldemort [25] استفاده می‌شود.
    </p>
    <p>
        در این configuration، تعداد partitions معمولاً زمانی ثابت می‌شود که database برای اولین بار راه‌اندازی شود و بعداً تغییر نمی‌کند. اگرچه در اصل تقسیم و merge کردن partitions امکان‌پذیر است (بخش بعدی را ببینید)، یک تعداد ثابت از partitions از نظر عملیاتی ساده‌تر است، و بنابراین بسیاری از databases fixed-partition، انتخاب نمی‌کنند که partition splitting را پیاده‌سازی کنند. بنابراین، تعداد partitions که در ابتدا پیکربندی شده است، حداکثر تعداد nodes است که شما می‌توانید داشته باشید، بنابراین شما نیاز دارید که آن را به اندازه کافی بالا انتخاب کنید تا growth آینده را در خود جای دهد. با این حال، هر partition همچنین دارای management overhead است، بنابراین انتخاب یک عدد بیش از حد زیاد، نتیجه معکوس دارد.
    </p>
    <p>
        انتخاب تعداد صحیح partitions دشوار است اگر اندازه کل dataset بسیار متغیر باشد (به عنوان مثال، اگر کوچک شروع شود اما ممکن است با گذشت زمان بسیار بزرگتر شود).
        از آنجایی که هر partition شامل یک fraction ثابت از کل data است، اندازه هر partition متناسب با کل مقدار داده‌ها در cluster رشد می‌کند. اگر partitions بسیار بزرگ باشند، rebalancing و recovery از node failures گران‌قیمت می‌شوند. اما اگر partitions خیلی کوچک باشند، آن‌ها overhead زیادی را متحمل می‌شوند. The best performance زمانی به دست می‌آید که اندازه partitions "just right" باشد، نه خیلی بزرگ و نه خیلی کوچک، که اگر تعداد partitions ثابت باشد، اما اندازه dataset متفاوت باشد، رسیدن به آن دشوار است.
    </p>
    <p>
        Rebalancing Partitions | 211
    </p>
</div>

        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0233/image_1.png" alt="Image from page 233" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>