Relational Versus Document Databases Today                                                     38
Query Languages for Data                                                                                            42
Declarative Queries on the Web                                                                              44
MapReduce Querying                                                                                                46
Graph-Like Data Models                                                                                              49
Property Graphs                                                                                                         50
The Cypher Query Language                                                                                   52
Graph Queries in SQL                                                                                               53
Triple-Stores and SPARQL                                                                                       55
The Foundation: Datalog                                                                                          60
Summary                                                                                                                         63
3. Storage and Retrieval. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  69
Data Structures That Power Your Database                                                              70
Hash Indexes                                                                                                               72
SSTables and LSM-Trees                                                                                           76
B-Trees                                                                                                                         79
Comparing B-Trees and LSM-Trees                                                                       83
Other Indexing Structures                                                                                        85
Transaction Processing or Analytics?                                                                         90
Data Warehousing                                                                                                     91
Stars and Snowflakes: Schemas for Analytics                                                        93
Column-Oriented Storage                                                                                            95
Column Compression                                                                                               97
Sort Order in Column Storage                                                                                 99
Writing to Column-Oriented Storage                                                                  101
Aggregation: Data Cubes and Materialized Views                                             101
Summary                                                                                                                       103
4. Encoding and Evolution. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  111
Formats for Encoding Data                                                                                        112
Language-Specific Formats                                                                                    113
JSON, XML, and Binary Variants                                                                          114
Thrift and Protocol Buffers                                                                                    117
Avro                                                                                                                           122
The Merits of Schemas                                                                                            127
Modes of Dataflow                                                                                                      128
Dataflow Through Databases                                                                                 129
Dataflow Through Services: REST and RPC                                                        131
Message-Passing Dataflow                                                                                      136
Summary                                                                                                                       139
viii 
| 
Table of Contents
