<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحه 64</title>
    <link rel="stylesheet" href="fontiran.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        body {
            font-family: IRANSansX, Tahoma, Arial, sans-serif;
            line-height: 1.8;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-color: white;
        }
        .chapter-content {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }
        .translated-content {
            font-size: 14pt;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .page-images {
            text-align: center;
            margin: 20px 0;
            page-break-before: always;
        }
        .page-image {
            margin: 10px 0;
            text-align: center;
        }
        .page-image img {
            max-width: 100%;
            height: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .code-block {
            direction: ltr;
            text-align: left;
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .english-text {
            direction: ltr;
            text-align: left;
            display: inline-block;
        }
        .heading {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        .paragraph {
            margin-bottom: 15px;
            text-align: right;
            direction: rtl;
        }
        ul, ol {
            padding-right: 20px;
            padding-left: 0;
            text-align: right;
            direction: rtl;
        }
        li {
            margin-bottom: 10px;
            text-align: right;
            direction: rtl;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: right;
            direction: rtl;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: right;
            direction: rtl;
        }
        th {
            background-color: #f8f9fa;
        }
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
    <div class="chapter-content">
        <div class="translated-content">
             <div>
  <p>
   <em>Figure 5-4. The operation of a cache server</em>
  </p>
  <p>
   برای اهداف ما، ما از Varnish، یک web cache متن‌باز (open source) استفاده خواهیم کرد.
  </p>
  <h4><strong>Deploying Your Cache</strong></h4>
  <p>
   ساده‌ترین راه برای استقرار web cache، در کنار هر instance از web server شما با استفاده از الگو sidecar است (به Figure 5-5 مراجعه کنید).
  </p>
  <p>
   <em>Figure 5-5. Adding the web cache server as a sidecar</em>
  </p>
  <p>
   اگرچه این رویکرد ساده است، اما دارای برخی معایب است، یعنی اینکه شما باید cache خود را در همان مقیاس web servers خود scale کنید. این اغلب رویکردی نیست که شما می‌خواهید. برای cache خود، شما می‌خواهید تا حد امکان replica های کمی با منابع زیاد برای هر replica داشته باشید (به عنوان مثال، به جای 10 replica با 1 GB از RAM در هر کدام، شما می‌خواهید دو replica با 5 GB از RAM در هر کدام). برای درک دلیل این که چرا این ترجیح داده می‌شود، در نظر بگیرید که هر صفحه در هر replica ذخیره می‌شود. با 10 replicas، شما هر صفحه را 10 بار ذخیره می‌کنید، که مجموعه کلی صفحات را که می‌توانید در حافظه cache نگه دارید، کاهش می‌دهد. این باعث کاهش hit rate می‌شود، کسری از زمان که یک request می‌تواند از cache service شود، که به نوبه خود، utility cache را کاهش می‌دهد.
  </p>
  <p>
   اگرچه شما می‌خواهید چند cache بزرگ داشته باشید، ممکن است تعداد زیادی replica کوچک از web servers خود نیز بخواهید. بسیاری از زبان‌ها (به عنوان مثال، NodeJS) واقعاً فقط می‌توانند از یک core استفاده کنند، و بنابراین شما می‌خواهید replicas های زیادی داشته باشید تا بتوانید از چندین core استفاده کنید، حتی در همان machine. بنابراین، منطقی‌ترین کار این است که caching layer خود را به عنوان یک tier service stateless replicated دوم در بالای tier web-serving خود پیکربندی کنید، همانطور که در Figure 5-6 نشان داده شده است.
  </p>
  <p>
   50
   | Chapter 5: Replicated Load-Balanced Services
  </p>
 </div>
 
        </div>
    </div>
    <div class="page-images">
        <div class="page-image"><img src="page_0064/image_1.png" alt="Image from page 64" /></div>
<div class="page-image"><img src="page_0064/image_2.png" alt="Image from page 64" /></div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            if (window.Prism) {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>