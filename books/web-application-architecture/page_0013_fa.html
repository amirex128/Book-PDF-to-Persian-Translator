<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page_0013</title>
    <link rel="stylesheet" href="fontiran.css">
    <style>
        @page {
            size: A4;
            margin: 1.5cm;
        }
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'IRANSansX', 'Tahoma', 'Arial', sans-serif;
            line-height: 1.5;
            background-color: #f8f9fa;
            /* Strict A4 size enforcement */
            width: 21cm;
            height: 29.7cm;
            overflow: hidden; /* Critical: prevents content overflow */
        }
        .container {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            background-color: white;
            padding: 1.5cm;
            box-sizing: border-box;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .persian-translation {
            text-align: right;
            direction: rtl;
            font-size: 1em;
            font-family: 'IRANSansX', 'Tahoma', 'Arial', sans-serif;
            margin-bottom: 20px;
            /* Dynamic text size adjustment */
            max-height: 40%;
            overflow: hidden;
            /* Text will shrink if there are large images */
            flex: 0 1 auto;
        }
        .page-images {
            text-align: center;
            margin: 10px auto;
            /* Images area takes remaining space */
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .page-image {
            display: block;
            width: auto;
            height: auto;
            max-width: 100%;
            /* Dynamic height - will shrink if there are multiple images */
            max-height: calc((100% - 20px) / var(--image-count, 1));
            margin: 5px auto;
            object-fit: contain;
        }
        .page-number {
            text-align: center;
            margin-top: 10px;
            font-size: 0.9em;
            color: #777;
            flex: 0 0 auto;
        }
        @media print {
            body {
                background: none;
                width: 21cm;
                height: 29.7cm;
            }
            .container {
                box-shadow: none;
                padding: 0;
                height: 100%;
            }
            .persian-translation {
                /* Ensure text doesn't overflow in print */
                overflow: hidden;
            }
            .page-images {
                /* Ensure images don't cause page breaks */
                page-break-inside: avoid;
                overflow: hidden;
            }
            .page-image {
                /* Ensure images are scaled properly for print */
                max-height: calc((100% - 20px) / var(--image-count, 1));
            }
        }
    </style>
    <script>

        document.addEventListener('DOMContentLoaded', function() {
            const imageContainer = document.querySelector('.page-images');
            if (imageContainer) {
                const images = imageContainer.querySelectorAll('.page-image');
                document.documentElement.style.setProperty('--image-count', images.length);
                
                // Further adjust if text is large
                const textElement = document.querySelector('.persian-translation');
                const textHeight = textElement.offsetHeight;
                const containerHeight = document.querySelector('.container').offsetHeight;
                
                // If text takes more than 40% of container, reduce image max-height
                if (textHeight > containerHeight * 0.4) {
                    const remainingHeight = containerHeight - textHeight - 50; // 50px for margins
                    const imageMaxHeight = remainingHeight / images.length;
                    images.forEach(img => {
                        img.style.maxHeight = imageMaxHeight + 'px';
                    });
                }
            }
        });
    
    </script>
</head>
<body>
    <div class="container">
        <div dir='rtl' class='persian-translation'>مقدمه
۳. این کتاب برای چه کسانی است؟
این کتاب برای شماست:
• اگر تجربه‌ای در توسعه «الهام گرفته از چارچوب» دارید، یعنی دنبال کردن مستندات یک چارچوب برای ساختاردهی یک برنامه وب، یا
• اگر با برخی از کدهای قدیمی مواجه شده‌اید، جایی که هر بخشی از پایگاه کد از هر قسمت دیگر مطلع است، و نگرانی‌های مختلف کاملاً با هم مخلوط شده‌اند، یا
• اگر هر دو مورد را دیده‌اید، که بسیار محتمل است، زیرا این موارد اغلب به هم مرتبط هستند.
تصور می‌کنم که شما این کتاب را به این دلیل می‌خوانید که به دنبال روش‌های بهتری برای ساختاردهی چیزها و رهایی از آشفتگی‌ای هستید که یک پروژه نرم‌افزاری اجتناب‌ناپذیر می‌شود. نظریه‌ام این است: نرم‌افزار همیشه به آشفتگی تبدیل می‌شود، حتی اگر تمام روش‌های شناخته‌شده بهترین شیوه‌های طراحی نرم‌افزار را دنبال کنید. اما مطمئنم که اگر روش‌های توضیح داده‌شده در این کتاب را دنبال کنید، زمان بیشتری برای تبدیل شدن به یک آشفتگی طول می‌کشد، و این از قبل یک مزیت رقابتی بسیار بزرگ است.
۴. مروری بر محتوای کتاب
این کتاب به سه بخش تقسیم می‌شود. در بخش اول («جداسازی از زیرساخت») نمونه‌های مختلفی از کدهای یک برنامه قدیمی را بررسی می‌کنیم که در آن کدهای هسته‌ای و زیرساخت با هم مخلوط شده‌اند. ما می‌آموزیم که چگونه:
• یک مدل دامنه را از کدی که پرس‌وجوهای SQL را با تصمیمات کسب‌وکاری مخلوط می‌کند، استخراج کنیم (فصل ۲)
• یک سرویس کاربردی قابل بازیافت را از کنترل‌کننده‌ای که مدیریت فرم، منطق کسب‌وکار و پرس‌وجوهای پایگاه داده را با هم مخلوط می‌کند، استخراج کنیم (فصل ۴).
• یک مدل خواندن را از ذخیره‌سازی داده‌های زیربنایی آن جدا کنیم (فصل ۳)
• کلاس‌هایی که از مکان‌یابی سرویس استفاده می‌کنند را به کلاس‌هایی که به تزریق وابستگی تکیه می‌کنند، بازنویسی کنیم (فصل ۵)
xii


</div>
        
        
        
        <div class="page-number">
            13
        </div>
    </div>
</body>
</html>